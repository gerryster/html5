var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.dtpl=(function(){var a={version:"0.2",author:"Anton Kovalyov <anton@disqus.com>"};a.getGuestFields=function(c){function b(d){return DISQUS.nodes.get("#"+d+(c?"-"+c:""))}return{name:b("dsq-field-name"),email:b("dsq-field-email"),website:b("dsq-field-website"),username:b("dsq-field-username"),password:b("dsq-field-password"),subscribe:b("dsq-subscribe-on-post")}};return a})();DISQUS.dtpl.actions=(function(){var a={},d={},b={};function c(g,j,f){var i=(typeof g!="undefined")?DISQUS.jsonData.posts[g]:false;var k={def_email:DISQUS.config.def_email,def_name:DISQUS.config.def_name};if(j){for(var h in j){if(j.hasOwnProperty(h)){k[h]=j[h]}}}if(i){k.parent_post=g}if(DISQUS.config.per_page){k.per_page=DISQUS.config.per_page}if(DISQUS.config.frame_theme){k.theme=DISQUS.config.frame_theme}if(DISQUS.jsonData.request.is_authenticated){f["class"]+="-authenticated"}return DISQUS.nodes.createIframe(DISQUS.jsonData.urls.reply,k,f)}d["message.error"]=function(f,g){DISQUS.popup.popModal(f,g||DISQUS.strings.get("Error"))};d["message.error.onField"]=function(g,h){if(DISQUS.jsonData.forum.revert_new_login_flow){a.fire("message.error",DISQUS.strings.get(g),DISQUS.strings.get("Oops..."))}else{if(h){var f=DISQUS.nodes.get("#"+h+"-label");if(f){DISQUS.nodes.addClass(f,"dsq-error");f.innerHTML=DISQUS.strings.get(g)}}else{alert(DISQUS.strings.get(g))}}};d["message.unapprovedComment"]=function(g,f){DISQUS.popup.popModal(DISQUS.renderBlock("unapprovedCommentMessage",{mustVerify:g}),DISQUS.strings.get("Comment awaiting approval"),f,true,"dsq-popup-unapproved")};d["share.toggle"]=function(j,f,g){var i=g?"-"+g:"";var h=DISQUS.nodes.get("#dsq-sharing-"+f+i);if(DISQUS.nodes.hasClass(j,"dsq-share-toggled")){DISQUS.nodes.removeClass(j,"dsq-share-toggled")}else{DISQUS.nodes.addClass(j,"dsq-share-toggled")}h.checked=!h.checked};d["private.setLoadingButton"]=function(h,f){var g=f?"-"+f:"";var k;var i;var j;if(h){j=document.createElement("src");j.src=DISQUS.jsonData.settings.media_url+"/images/loading-lite.gif";i=document.createElement("button");i.id=h.id+"-loading";i.className=h.className+" dsq-post-loading";i.appendChild(j);i.appendChild(document.createTextNode(" "+DISQUS.strings.get("Just a moment...")));h.style.display="none";h.parentNode.appendChild(i);k=DISQUS.nodes.get("#dsq-cancel-button"+g);if(k){k.style.display="none"}DISQUS.cache.buttonsToRestore.push(h)}else{DISQUS.lang.forEach(DISQUS.cache.buttonsToRestore,function(l){l.style.display="inline";DISQUS.nodes.remove(DISQUS.nodes.get("#"+l.id+"-loading"))})}};d["comments.validate"]=function(g){var f=DISQUS.api.getCommentBox(g);f.validate({onSuccess:function(h){DISQUS.api.ensureLoggedIn(function(){a.fire("comments.send",g)},null,{onGuest:function(){a.fire("comments.send",g,null,{fields:DISQUS.dtpl.getGuestFields(null)})}})},onFailure:function(h){a.fire("message.error",h.message);a.fire("private.setLoadingButton")}})};d["auth.updateEmail"]=function(h,g){var f=DISQUS.dtpl.getGuestFields(h);f.email.value=g};d["auth.disqus"]=function(g,f){DISQUS.api.ensureLoggedIn(function(){DISQUS.redraw()},"disqus")};d["auth.twitter"]=function(){DISQUS.api.ensureLoggedIn(function(){DISQUS.redraw()},"twitter")};d["auth.yahoo"]=function(){DISQUS.api.ensureLoggedIn(function(){DISQUS.redraw()},"yahoo")};d["auth.openid"]=function(){DISQUS.api.ensureLoggedIn(function(){DISQUS.redraw()},"openid")};d["auth.facebook"]=function(){DISQUS.api.ensureLoggedIn(function(){DISQUS.redraw()},"facebook")};d["comments.insert"]=function(o,h,q){var n={};DISQUS.redraw();var m=DISQUS.nodes.get("#dsq-comments");var g=document.createElement("div");n.comment=DISQUS.jsonData.posts[h];n.comment.id=h;n.comment.author=DISQUS.jsonData.users[n.comment.user_key];if(n.comment.parent_post_id){n.comment.parent=DISQUS.jsonData.posts[n.comment.parent_post_id];n.comment.parent.author=DISQUS.jsonData.users[n.comment.parent.user_key];var l=DISQUS.nodes.get("#dsq-comment-"+n.comment.parent_post_id);DISQUS.nodes.addClass(l,"dsq-comment-is-parent");var p=n.comment.parent;do{p.num_replies+=1;p=DISQUS.jsonData.posts[p.parent_post_id]}while(p!==undefined)}n.comment.stripped=function(r){var s=n.comment.message.replace(/<.*?>/g,"");if(s.length>r){return s.substring(0,r)}return null};g.innerHTML=DISQUS.renderBlock("comment",n);if(o===-1){m.appendChild(g)}else{if(!o){m.insertBefore(g,m.firstChild)}else{if(DISQUS.nodes.get("dsq-comment-"+o)){var i="#dsq-append-post-"+o;var j=DISQUS.nodes.get(i);j=j.nextSibling;while(j){if(!j||j.nodeType==1){break}j=j.nextSibling}if(!j){j=DISQUS.nodes.get(i)}j.parentNode.insertBefore(g,j)}}}var f=DISQUS.nodes.get("#dsq-avatar-"+h);var k=DISQUS.nodes.get("img.dsq-deferred-avatar",f);DISQUS.lang.forEach(k,function(r){r.setAttribute("src",r.getAttribute("data-src"));DISQUS.nodes.removeClass(r,"dsq-deferred-avatar")});DISQUS.dtpl.actions.fire("comments.insert.onSuccess")};d["comments.insert.onSuccess"]=function(g,f){DISQUS.callback(DISQUS.config.callbacks.onNewComment,f)};d["comments.blacklist"]=function(k,h){var f=[];var j=DISQUS.jsonData.posts[k];var g=DISQUS.jsonData.users[j.user_key];var i={"dsq-blacklist-username":5,"dsq-blacklist-email":1,"dsq-blacklist-ip":2};if(h){DISQUS.lang.forEach(i,function(m,n){var l=DISQUS.nodes.get("#"+n);if(l&&l.checked){f.push(m)}});if(f.length<1){alert(DISQUS.strings.get("Please select something to add to the blacklist."));return}DISQUS.popup.close(null,true);DISQUS.lang.forEach(f,function(m){var l=DISQUS.jsonData.urls.embed_block;DISQUS.request.get(l,{post_id:k,type:m},true)})}else{DISQUS.popup.close(null,true);DISQUS.popup.popModal(DISQUS.renderBlock("blacklistPopup",{comment:j,user:g}),DISQUS.strings.get("Add to Blacklist"))}};d["comments.outline"]=function(f){var g=DISQUS.nodes.get("#dsq-comment-"+f);g.className+=" dsq-comment-outline";setTimeout(function(){g.className=g.className.replace("dsq-comment-outline","")},3000)};d["comments.permalink"]=function(f){DISQUS.popup.popModal(DISQUS.renderBlock("permalinkPopup",{postId:f}),DISQUS.strings.get("Link to this comment"),f)};d["comments.send"]=function(g,j,h){var l;var f;var k;h=h||{};function i(m){var o="#dsq-sharing-"+m+(g?"-"+g:"");var n=DISQUS.nodes.get(o);return(n!==null&&n.checked===true)?"1":"0"}f=h.fields||DISQUS.dtpl.getGuestFields(g);l=h.frame||DISQUS.api.getChannel(g);k=[];if(DISQUS.dtpl.validators.guestFields(f)){if(!DISQUS.jsonData.request.is_authenticated){k.push(f.name.value,f.email.value);k.push(f.website?f.website.value:"");k.push(null);k.push(null,(f.subscribe&&f.subscribe.checked)?2:0)}else{k.push(null,null,null,null,{tw:i("twitter"),fb:i("facebook"),tr:i("tumblr"),wp:i("wordpress"),mt:i("movabletype"),tp:i("typepad"),yh:i("yahoo")},null)}if(h.captcha){k.push(h.captcha)}l.post.apply(l,k);if(j){a.fire("private.setLoadingButton",j,g)}if(h.force){DISQUS.cookies.create("skipped_auth",true)}}};d["comments.send.onSuccess"]=function(i,k){var j=DISQUS.jsonData.posts;var l=DISQUS.jsonData.users;var f;var h=i.message.post_meta.user_key;var g;j[i.message.id]=i.message.post_meta;if(!l[h]){l[h]=i.message.user_meta}if(typeof disqus_insert_wrt_sort=="undefined"){f=DISQUS.jsonData.forum.reply_position?-1:null}else{f=DISQUS.jsonData.request.sort==2?null:-1}if(i.message.post_meta.approved){a.fire("comments.insert",i.message.post_meta.parent_post_id||f,i.message.id,i.message.post_meta.message)}if(k){a.fire("comments.reply.cancel",k)}DISQUS.popup.close(null,true);if(i.message.post_meta.approved){a.fire("thread.incrementCommentsCount");a.fire("comments.outline",i.message.id)}else{a.fire("message.unapprovedComment",DISQUS.jsonData.request.missing_perm=="verify",i.message.id);DISQUS.redraw()}if(i.message.fb_callback&&i.message.fb_callback[0]){g=new DISQUS.api.FacebookLoginBox();DISQUS.addJob(g.isReady,function(){DISQUS.FB.streamPublish("",i.message.fb_callback[1])})}a.fire("private.setLoadingButton")};d["captcha.init"]=function(f){if(!window.Recaptcha){DISQUS.require("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js")}DISQUS.addJob(function(){return !!window.Recaptcha},f)};d["captcha.open"]=function(f){function g(){var k=DISQUS.lang.partial(DISQUS.dtpl.actions.fire,"captcha.submit",f);var j=DISQUS.nodes.get("button",DISQUS.nodes.get("#dsq-captcha"))[0];DISQUS.events.add(j,"click",k);var i=DISQUS.nodes.get("#recaptcha_response_field");DISQUS.events.add(i,"keypress",function(n){var m=n.keyCode||n.which;if(m==13){k()}});var l=DISQUS.nodes.get("#dsq-captcha-loading");l.style.display="none";var h=DISQUS.nodes.get("#dsq-captcha-container");h.style.display="block";Recaptcha.focus_response_field()}DISQUS.popup.popModal(DISQUS.renderBlock("recaptcha"),DISQUS.strings.get("One More Step ..."),null,null,null,{onReady:function(){Recaptcha.create(DISQUS.jsonData.settings.recaptcha_public_key,"dsq-captcha-form",{theme:"clean",callback:g})},onClose:function(){Recaptcha.destroy();a.fire("private.setLoadingButton")}})};d["captcha.submit"]=function(f){a.fire("comments.send",f.parent_post_id,null,{fields:{email:{value:f.author_email},name:{value:f.author_name},website:{value:f.author_url||""},subscribe:{checked:f.subscribe!==0}},captcha:{recaptcha_challenge_field:DISQUS.nodes.get("#recaptcha_challenge_field").value,recaptcha_response_field:DISQUS.nodes.get("#recaptcha_response_field").value}});DISQUS.popup.close(null,true)};d["comments.send.onFailure"]=function(f){if(f.code=="captcha-required"){DISQUS.dtpl.actions.fire("captcha.init",DISQUS.lang.partial(DISQUS.dtpl.actions.fire,"captcha.open",f.request.post))}else{a.fire("message.error",f.message);a.fire("private.setLoadingButton")}};d["comments.edit.show"]=function(m){var g;var l;var j;var f=DISQUS.nodes.get("#dsq-comment-body-"+m);var i=DISQUS.nodes.get("#dsq-comment-message-"+m);var h=DISQUS.nodes.get("#dsq-media-embed-"+m);var k;DISQUS.popup.close(null,true);if(!DISQUS.states.edit[m]){i.style.display="none";if(h){h.style.display="none"}k=DISQUS.nodes.get(".dsq-editedtxt",f);if(k.length){DISQUS.nodes.remove(k[0])}if(DISQUS.nodes.get("#dsq-edit-"+m)){DISQUS.nodes.get("#dsq-edit-"+m).style.display="block"}else{l=DISQUS.jsonData.posts[m];l.id=m;g=document.createElement("div");g.id="dsq-edit-"+m;g.className="dsq-edit dsq-textarea";g.innerHTML=DISQUS.renderBlock("editArea",{comment:l});f.appendChild(g);j=DISQUS.frames["edit_"+m];if(!j){j=new DISQUS.ReplyFrame(DISQUS.nodes.get("#dsq-edit-iframe-"+m),m);j.init();j.setState(m,l.depth);DISQUS.frames["edit_"+m]=j}}}else{i.style.display="block";if(h){h.style.display="block"}DISQUS.nodes.get("#dsq-edit-"+m).style.display="none"}DISQUS.states.edit[m]=!DISQUS.states.edit[m]};d["comments.edit.send"]=function(h,f){var g=DISQUS.nodes.get("#dsq-edit-textarea-"+h).value;a.fire("private.setLoadingButton",f,h);DISQUS.frames["edit_"+h].edit(h,g)};d["comments.edit.onSuccess"]=function(f,i){var h=DISQUS.nodes.get("#dsq-comment-message-"+i),g=DISQUS.jsonData.posts[i];DISQUS.lang.extend(g,f.message);h.innerHTML=DISQUS.renderBlock("commentMessage",{comment:g,cls:"dsq-comment-message"});a.fire("comments.edit.show",i);a.fire("private.setLoadingButton")};d["comments.edit.onFailure"]=function(f,g){a.fire("message.error",DISQUS.strings.get("Sorry, there was an error editing this comment."),DISQUS.strings.get("Edit Error"));a.fire("private.setLoadingButton")};d["comments.spam"]=function(f){DISQUS.popup.close(null,true);DISQUS.request.get(DISQUS.jsonData.urls.report_spam,{post_id:f},true)};d["comments.like.loading"]=function(i){var g=DISQUS.nodes.get("#dsq-like-"+i);var h=DISQUS.nodes.get("button",g)[0];h.style.display="none";var f=document.createElement("img");f.src=DISQUS.jsonData.settings.media_url+"/images/loading-small.gif";g.appendChild(f)};d["comments.like"]=function(g,h){var f=g.hasAttribute("data-vote")?+!parseInt(g.getAttribute("data-vote"),10):1;if(DISQUS.jsonData.request.is_authenticated||DISQUS.jsonData.forum.allow_anon_votes){DISQUS.dtpl.actions.fire("comments.like.loading",h);DISQUS.request.get(DISQUS.jsonData.urls.embed_vote,{post_id:h,vote:f},true);g.setAttribute("data-vote",f)}else{a.fire("auth.disqus",DISQUS.strings.get("To like please login"))}};d["comments.like.onSuccess"]=function(i,h){var g=DISQUS.nodes.get("#dsq-like-pts-"+i);var f=DISQUS.jsonData.posts[i].user_voted;if(!f){successText=h+DISQUS.strings.pluralize(h," person"," people")}else{successText=" and "+(h-1||1)+" more"}if(g){g.innerHTML=successText}DISQUS.nodes.get("#dsq-like-"+i).innerHTML=DISQUS.strings.get("You liked this.")+"&nbsp;&nbsp;"};d["comments.report"]=function(h,g){var f=DISQUS.jsonData.urls.embed_report;if(g){DISQUS.request.post(f,{post_id:h});DISQUS.popup.popModal(DISQUS.strings.get("Thank you. This comment has been flagged for moderator attention."),DISQUS.strings.get("Successfully flagged"));DISQUS.nodes.remove(DISQUS.nodes.get("#dsq-post-report-"+h))}else{DISQUS.popup.popModal(DISQUS.renderBlock("reportConfirmation",{id:h}),DISQUS.strings.get("Are you sure you would like to report this comment to a moderator?"),h)}};d["comments.reply.cancel"]=function(h,g){var f=DISQUS.nodes.get("#dsq-append-post-"+h);f.style.display="none";f.className="";DISQUS.nodes.get("#dsq-comment-footer-reply-"+h).className="dsq-comment-footer-reply";DISQUS.cache.toggledReplies[h]=false};d["comments.reply.new"]=function(k,h){var g,j,i;var f=DISQUS.nodes.get("#dsq-append-post-"+k);if(DISQUS.nodes.get("#dsq-reply-post-"+k)){f.style.display="block"}else{j=DISQUS.jsonData.posts[k];j.id=k;j.author=DISQUS.jsonData.users[j.user_key];f.innerHTML=DISQUS.renderBlock("postbox",{comment:j});g=DISQUS.nodes.get("#dsq-textarea-wrapper-"+k);if(!DISQUS.frames["reply_"+k]){i=new DISQUS.ReplyFrame(g,k);i.init(function(){a.fire("thread.useFallbackIframe",k)});i.setState(k,j.depth);DISQUS.frames["reply_"+k]=i}}f.className="dsq-append-post";DISQUS.nodes.get("#dsq-comment-footer-reply-"+k).className="dsq-comment-footer-reply-active";DISQUS.cache.toggledReplies[k]=true};d["comments.reply"]=function(g,f){if(!DISQUS.cache.toggledReplies[g]){return DISQUS.dtpl.actions.fire("comments.reply.new",g,f)}else{return DISQUS.dtpl.actions.fire("comments.reply.cancel",g,f)}};d["comments.moderate.options"]=function(g){var f=DISQUS.jsonData.posts[g];f.author=DISQUS.jsonData.users[f.user_key];if(!DISQUS.jsonData.request.is_moderator){return}DISQUS.popup.popModal(DISQUS.renderBlock("moderateOptionsPopup",{comment:f}),DISQUS.strings.get("Moderate Options"),g)};d["comments.delete"]=function(f){DISQUS.popup.close(null,true);DISQUS.request.get(DISQUS.jsonData.urls.embed_kill,{post_id:f,kill:1},true)};d["comments.restore"]=function(f){DISQUS.request.get(DISQUS.jsonData.urls.embed_kill,{post_id:f,kill:0},true)};d["cookies.onFailure"]=function(j){DISQUS.states.noThirdPartyCookies=true;if(DISQUS.browser.ie){DISQUS.states.useLoginWindow=true}else{if(DISQUS.browser.gecko||DISQUS.browser.opera){var k=DISQUS.jsonData.request.is_authenticated;var h=DISQUS.jsonData.request.is_remote;var m=j?"-"+j:"";var i,f;if(!DISQUS.browser.gecko||(k&&!h)){return}DISQUS.states.loginDisabled=true;f=document.createElement("div");f.innerHTML=DISQUS.renderBlock("cookieFailure");i=DISQUS.nodes.get("#dsq-form-area"+m);i.parentNode.insertBefore(f,i)}else{if(DISQUS.browser.webkit&&DISQUS.jsonData.request.is_sso){var g=DISQUS.nodes.get("#dsq-sso-iframe");if(g){return}g=document.createElement("div");g.id="dsq-sso-iframe";g.style.display="none";var n=DISQUS.nodes.get("body")[0];n.appendChild(g);var l=new DISQUS.AuthFrame(g,{onReady:function(){l.authenticateSSO(DISQUS.jsonData.forum.url,DISQUS.config.page.remote_auth_s2)}});l.init()}}}};d["user.remoteAccountSettings"]=function(){var f=DISQUS.nodes.createIframe(DISQUS.jsonData.urls.remote_settings,{},{id:"dsq-popup-account-settings"});DISQUS.popup.popModal(f.outerHTML,DISQUS.strings.get("Account Settings"))};d["user.validateAuth"]=function(i,m,j){var f=DISQUS.dtpl.getGuestFields(m);var k=DISQUS.frames["reply_"+(m?m:0)];var h=f.email?f.email.value:"";var l=f.username?f.username.value:"";var g=f.password?f.password.value:"";a.fire("private.setLoadingButton",i,m);k.validateAuth(j,h,l,g)};d["user.validateAuth.onSuccess"]=function(f,h,g){a.fire("comments.send",g,null,{force:true,authChoice:h})};d["user.validateAuth.onFailure"]=function(g,j,i){var h=g.message;var f=["email","username","password"];if(j=="register"){DISQUS.lang.forEach(f,function(k){var m,l;m="#dsq-"+k+"-errors";if(i){m+="-"+i}l=DISQUS.nodes.get(m);if(h[k]){l.innerHTML=h[k]}else{l.innerHTML=""}})}else{if(j=="login"){DISQUS.nodes.get("#dsq-lightbox-errors"+(i?"-"+i:"")).innerHTML="<p>We could not log you in. Please verify your login.</p>"}}a.fire("private.setLoadingButton")};d["profile.show"]=function(f,h,g){return DISQUS.popup.popProfile(f,h,g)};d["profile.edit"]=function(){var f=new DISQUS.ui.ProfileEditModal();f.show()};d["profile.displayDeferredAvatars"]=function(){var n=DISQUS.nodes.get("img.dsq-deferred-avatar");var l,m,h,g;if(!n.length){return}if(!DISQUS.browser.ie){l=window.pageYOffset;m=window.pageXOffset;h=window.innerHeight;g=window.innerWidth}else{(function(){var i=document.documentElement;l=i.scrollTop;m=i.scrollLeft;h=i.clientHeight;g=i.clientWidth}())}var f=(function(){var s,r,o=0,t=n.length,u;var q,p;while(o<t){r=parseInt((o+t)/2,10);s=n[r];u=DISQUS.nodes.getPosition(s);height=s.offsetHeight;q=u[1]>=l+h;p=u[1]+s.offsetHeight<=l;if(p){o=r+1}else{if(q){t=r}else{return r}}}return -1})();if(f===-1){return}function j(p){var q=n[p];var r=DISQUS.nodes.getPosition(q);var o=q.offsetHeight;if(r[1]<(l+h)&&(r[1]+q.offsetHeight)>l){q.setAttribute("src",q.getAttribute("data-src"));DISQUS.nodes.removeClass(q,"dsq-deferred-avatar");q.removeAttribute("data-src");return true}return false}var k;for(k=f;k>=0&&j(k);k--){}for(k=f+1;k<n.length&&j(k);k++){}};d["thread.initialize"]=function(){var f=DISQUS.nodes.get("#dsq-textarea-wrapper");if(DISQUS.jsonData.thread.closed||!f){return}DISQUS.frames.reply_0=new DISQUS.ReplyFrame(f);DISQUS.frames.reply_0.init(function(){a.fire("thread.useFallbackIframe")});if(DISQUS.jsonData.realtime_enabled&&a.registered("realtime.initialize")){a.fire("realtime.initialize")}DISQUS.events.add(window,"scroll",DISQUS.lang.partial(DISQUS.dtpl.actions.fire,"profile.displayDeferredAvatars"))};d["thread.ready"]=function(){setTimeout(function(){a.fire("profile.displayDeferredAvatars")},0);DISQUS.callback(DISQUS.config.callbacks.onReady)};d["thread.useFallbackIframe"]=function(k){var h,f,g,m;var l="dsq-post-add-iframe",j="dsq-reply-frame",n=false,i=DISQUS.config.frame_theme||"default";if(k){l+="-"+k;j+="-"+k;m=DISQUS.nodes.get("#dsq-form-area-"+k)}else{m=DISQUS.nodes.get("#dsq-form-area")}m.innerHTML="";if(!i){i="default"}g={theme:i};h={id:l,name:j,"class":"dsq-post-reply"};f=c(k,g,h);DISQUS.lang.forEach(m.childNodes,function(o){if(o.nodeName=="IFRAME"){if(o.id==l){o.style.display="block";n=true}else{o.style.display="none"}}});if(n){return}m.appendChild(f);if(f){}};d["thread.incrementCommentsCount"]=function(){var g=DISQUS.nodes.get("#dsq-num-posts");var h=DISQUS.nodes.get("#dsq-total-posts");if(g){var f=g.innerHTML.split("-");if(f.length==1){g.innerHTML=parseInt(f[0],10)+1}else{g.innerHTML=f[0]+"-"+(parseInt(f[1],10)+1)}}if(h){h.innerHTML=parseInt(h.innerHTML,10)+1}};d["thread.paginate.loading"]=function(){if(DISQUS.jsonData.thread.pagination_type=="num"){DISQUS.window.anchor("disqus_thread");DISQUS.nodes.get("#dsq-comments").innerHTML='<img src="'+DISQUS.jsonData.settings.media_url+'/images/loading.gif"/>'}else{DISQUS.nodes.get("#dsq-pagination").innerHTML='<img src="'+DISQUS.jsonData.settings.media_url+'/images/loading-small.gif"/>'}};d["thread.paginate"]=function(h,g,f){var i;i={slug:DISQUS.jsonData.thread.slug,p:h};if(typeof f=="undefined"){f=DISQUS.config.page.per_page}if(DISQUS.config.page.sort){i.sort=DISQUS.config.page.sort}if(typeof f!="undefined"){i.per_page=f}DISQUS.dtpl.actions.fire("thread.paginate.loading");if(g){g.style.display="none"}DISQUS.request.get(DISQUS.jsonData.urls.embed_thread,i,true)};d["thread.update"]=function(){var l=DISQUS.nodes.get("#dsq-comments");var h=DISQUS.nodes.get("#dsq-num-posts");var g=DISQUS.nodes.get("#dsq-pagination");var m;var j=DISQUS.jsonData.thread.num_posts;var k;function i(){if(h){return parseInt(h.innerHTML,10)}return 0}function f(n){if(h){h.innerHTML=n}}if(DISQUS.jsonData.thread.pagination_type=="num"){l.innerHTML=DISQUS.renderBlock("comments");DISQUS.ui.applyTooltips(l);if(DISQUS.jsonData.thread.total_posts>j){k=DISQUS.jsonData.thread.offset_posts;f((k+1)+"-"+(k+j))}else{f(j)}}else{if(DISQUS.jsonData.thread.pagination_type=="append"){if(DISQUS.jsonData.request.page==1){l.innerHTML=DISQUS.renderBlock("comments");f(j)}else{m=document.createElement("div");m.id="dsq-comments-"+DISQUS.jsonData.request.page;m.innerHTML=DISQUS.renderBlock("comments");l.appendChild(m);DISQUS.ui.applyTooltips(m);f(i()+j)}}}g.innerHTML=DISQUS.renderBlock("pagination");DISQUS.callback(DISQUS.config.callbacks.onPaginate);DISQUS.dtpl.actions.fire("profile.displayDeferredAvatars")};d["thread.sort.loading"]=function(f){DISQUS.nodes.get("#dsq-comments").innerHTML='<img src="'+DISQUS.jsonData.settings.media_url+'/images/loading.gif"/>'};d["thread.sort"]=function(f){var g;if(!/hot|best|newest|oldest/.test(f)){return}g={slug:DISQUS.jsonData.thread.slug,sort:f,p:1};DISQUS.dtpl.actions.fire("thread.sort.loading");DISQUS.request.get(DISQUS.jsonData.urls.embed_thread,g,true)};d["thread.subscribe"]=function(g){var f=DISQUS.jsonData.urls.embed_subscribe;var h=DISQUS.jsonData.request;if((h.is_authenticated&&h.email)||g){if(g){DISQUS.popup.close(null,true)}DISQUS.request.get(f,{status:1,slug:DISQUS.jsonData.thread.slug,email:g||""},true)}else{if(!g){DISQUS.popup.popModal(DISQUS.renderBlock("subscribeForm"),DISQUS.strings.get("New comments will be sent to your email inbox!"))}}};d["thread.vote"]=function(g){function f(k,j){if(DISQUS.nodes.hasClass(k,"dsq-toggled")){g=0;DISQUS.nodes.removeClass(k,"dsq-toggled");DISQUS.nodes.removeClass(j,"dsq-toggled")}else{DISQUS.nodes.addClass(k,"dsq-toggled");DISQUS.nodes.removeClass(j,"dsq-toggled")}}if(DISQUS.jsonData.request.is_authenticated||DISQUS.jsonData.forum.allow_anon_votes){var i=DISQUS.nodes.get("#dsq-like-thread-button");var h=DISQUS.nodes.get("#dsq-dislike-thread-button");if(g>0){f(i,h)}else{f(h,i)}DISQUS.request.get(DISQUS.jsonData.urls.embed_thread_vote,{thread_id:DISQUS.jsonData.thread.id,vote:g},true)}else{a.fire("auth.disqus",DISQUS.strings.get("To like please login"))}};d["thread.vote.onSuccess"]=function(j,i){DISQUS.jsonData.thread.user_vote=j;DISQUS.jsonData.thread.likes=i;if(DISQUS.jsonData.request.is_authenticated){var k=DISQUS.jsonData.request.username;if(j==1){var h={};h[k]={username:k,avatar:DISQUS.jsonData.urls.request_user_avatar,url:DISQUS.jsonData.urls.request_user_profile,name:DISQUS.jsonData.request.display_username};DISQUS.jsonData.thread.voters=DISQUS.lang.extend(h,DISQUS.jsonData.thread.voters)}else{delete DISQUS.jsonData.thread.voters[k]}}if(DISQUS.db.available()){votingData=DISQUS.db.get("thread_votes")||{};votingData[DISQUS.jsonData.thread.id]={value:j,timestamp:DISQUS.jsonData.request.timestamp};DISQUS.db.set("thread_votes",votingData)}var g=DISQUS.nodes.get("#dsq-content");var f=DISQUS.nodes.get("ul.dsq-like-faces",g)[0];if(f){f.innerHTML=DISQUS.renderBlock("likeActivity");DISQUS.ui.applyTooltips(f)}};d["thread.unsubscribe"]=function(){var f=DISQUS.jsonData.urls.embed_subscribe;if(DISQUS.jsonData.request.is_authenticated){DISQUS.request.get(f,{status:0,slug:DISQUS.jsonData.thread.slug},true)}};d["thread.help"]=function(){if(!DISQUS.jsonData.request.is_moderator){return}DISQUS.popup.popModal(DISQUS.renderBlock("moderatorHelpPopup"),DISQUS.strings.get("Help"))};d["thread.settings"]=function(){if(!DISQUS.jsonData.request.is_moderator){return}DISQUS.popup.popModal(DISQUS.renderBlock("threadSettingsPopup"),DISQUS.strings.get("Moderator Settings"))};d["thread.moderatorActions"]=function(){if(!DISQUS.jsonData.request.is_moderator){return}DISQUS.popup.popModal(DISQUS.renderBlock("moderatorActionsPopup"),DISQUS.strings.get("Moderate Options"))};d["thread.toggleClosed"]=function(){var f=DISQUS.jsonData.urls.toggle_thread_closed;DISQUS.request.post(f,{thread:DISQUS.jsonData.thread.id});setTimeout(function(){window.location.reload()},500)};d["thread.toggleKilled"]=function(){var f=DISQUS.jsonData.urls.toggle_thread_killed;DISQUS.request.post(f,{thread:DISQUS.jsonData.thread.id});setTimeout(function(){window.location.reload()},500)};d["thread.updateDaysAlive"]=function(){var g=DISQUS.jsonData.urls.update_days_alive;var f=DISQUS.nodes.get("#dsq-thread-settings-status");DISQUS.request.post(g,{days:DISQUS.nodes.get("#dsq-thread-days-alive").value,thread:DISQUS.jsonData.thread.id});f.innerHTML=DISQUS.strings.get("Saved!");setTimeout(function(){f.innerHTML=""},1000)};d["thread.updateModerateAll"]=function(){var g=DISQUS.jsonData.urls.update_moderate_all;var f=DISQUS.nodes.get("#dsq-thread-settings-status");DISQUS.request.post(g,{value:DISQUS.nodes.get("#dsq-thread-moderate-all").checked?1:0,thread:DISQUS.jsonData.thread.id});f.innerHTML=DISQUS.strings.get("Saved!");setTimeout(function(){f.innerHTML=""},1000)};d["realtime.initialize"]=function(){var f=DISQUS.nodes.get("#dsq-realtime-toggle");if(DISQUS.states.realtime||!f){return}DISQUS.states.realtime=true;DISQUS.cache.realtime.last_checked=DISQUS.jsonData.request.timestamp;f.onclick=function(){if(!DISQUS.cache.realtime.interval){a.fire("realtime.enable")}else{a.fire("realtime.disable")}return false};if(!DISQUS.jsonData.forum.streaming_realtime){a.fire("realtime.updateCount")}if(DISQUS.jsonData.thread.realtime_rate===0||DISQUS.jsonData.realtime_paused){a.fire("realtime.disable")}else{a.fire("realtime.enable")}};d["realtime.enable"]=function(){var f=DISQUS.nodes.get("#dsq-realtime-toggle");var g=DISQUS.nodes.get("#dsq-realtime-status");var h=setInterval(function(){var i=DISQUS.cache.realtime,j=DISQUS.jsonData.urls.realtime;j+="?timestamp="+i.last_checked+"&thread_id="+DISQUS.jsonData.thread.id+"&f="+DISQUS.jsonData.forum.url+"&";if(!i.ongoing_request&&DISQUS.jsonData.realtime_enabled){if(i.prev_script&&i.prev_script.parentNode){DISQUS.nodes.remove(i.prev_script)}i.ongoing_request=true;i.prev_script=DISQUS.request.get(j,undefined,true)}},DISQUS.jsonData.context.realtime_speed);DISQUS.cache.realtime.interval=h;g.innerHTML=DISQUS.strings.get("enabled");f.innerHTML="("+DISQUS.strings.get("Pause")+")"};d["realtime.disable"]=function(){var f=DISQUS.nodes.get("#dsq-realtime-toggle");var g=DISQUS.nodes.get("#dsq-realtime-status");var h=DISQUS.cache.realtime.interval;if(h){clearInterval(h);DISQUS.cache.realtime.interval=null}g.innerHTML=DISQUS.strings.get("paused");f.innerHTML="("+DISQUS.strings.get("Resume")+")"};d["realtime.updateCount"]=function(){var f=DISQUS.nodes.get("#dsq-content");var h=DISQUS.nodes.get("div.dsq-realtime-alert",f);var g=DISQUS.cache.realtime.newPosts.length;DISQUS.lang.forEach(h,function(j){j.style.display=g?"block":"none";j.innerHTML=g+" new "+DISQUS.strings.pluralize(g,"comment","comments")+DISQUS.strings.pluralize(g," was"," were")+" just posted. ";var i=document.createElement("A");i.href="#";DISQUS.events.add(i,"click",function(k){k.preventDefault();return a.fire("realtime.show")});i.innerHTML=DISQUS.strings.get("Show");j.appendChild(i)})};d["realtime.insertNewPosts"]=function(){var f=null;if(DISQUS.nodes.get("#dsq-sort-select").value=="oldest"){f=-1}DISQUS.lang.forEach(DISQUS.cache.realtime.newPosts,function(h){a.fire("comments.insert",f,h,DISQUS.jsonData.posts[h].message);a.fire("thread.incrementCommentsCount");a.fire("comments.outline",h)});if(!DISQUS.jsonData.forum.streaming_realtime){if(!f){DISQUS.nodes.scrollTo("#disqus_thread")}else{var g=DISQUS.nodes.get(".dsq-comment",DISQUS.nodes.get("#disqus_thread"));DISQUS.nodes.scrollTo(g[g.length-1])}}DISQUS.cache.realtime.newPosts=[]};d["realtime.show"]=function(){a.fire("realtime.insertNewPosts");a.fire("realtime.updateCount")};d["realtime.update"]=function(h,g,i){var f=DISQUS.cache.realtime;f.ongoing_request=null;f.last_checked=h;if(i){DISQUS.lang.forEach(i,function(j,k){if(!DISQUS.jsonData.users[k]){DISQUS.jsonData.users[k]=j}})}if(g){DISQUS.lang.forEach(g,function(j,k){if(!DISQUS.jsonData.posts[k]){DISQUS.jsonData.posts[k]=j;f.newPosts.push(k)}});if(DISQUS.jsonData.forum.streaming_realtime){a.fire("realtime.insertNewPosts")}else{a.fire("realtime.updateCount")}}};d["community.show"]=function(){var h=DISQUS.jsonData.urls.community;var i=DISQUS.nodes.createIframe(h,{},{width:"100%",height:"100%",scrolling:"no",frameBorder:"0",frameSpacing:"0",style:"visibility:hidden"});var g=DISQUS.popup.rawModal('<div class="dsq-border" style="width:700px; height:525px;"><a href="#" class="dsq-modal-close-btn" onclick="DISQUS.popup.close(null, true); return false;">Close</a><div class="dsq-popup-raw-container"></div></div>');var f=DISQUS.nodes.get("div.dsq-popup-raw-container",g)[0];f.appendChild(i);i.onreadystatechange=i.onload=function(){i.style.visibility="visible"}};d["reactions.hide"]=function(g){var f=DISQUS.jsonData.urls.embed_hidereaction;DISQUS.request.get(f,{reaction_id:g},true)};d["reactions.loadMore"]=function(){var f=DISQUS.jsonData.urls.embed_more_reactions;DISQUS.request.get(f,{t:DISQUS.jsonData.thread.id,s:DISQUS.jsonData.reactions_start,l:DISQUS.jsonData.reactions_limit},true)};d["reactions.insert"]=function(f){var g=DISQUS.nodes.get("#dsq-show-more-reactions");DISQUS.lang.forEach(f,function(j){var i={reaction:j};var k=document.createElement("div");var h=i.reaction.get_service_name;if(h=="trackback"||h=="pingback"){i.reaction.service_icon="rss"}else{i.reaction.service_icon=h.replace(" ","")}k.innerHTML=DISQUS.renderBlock("reaction",i);g.parentNode.insertBefore(k.lastChild,g)});if(!DISQUS.jsonData.has_more_reactions){g.style.display="none"}};d["reactions.reportMissing"]=function(){var f=DISQUS.jsonData.urls.embed_queueurl;if(!DISQUS.jsonData.request.is_moderator||!DISQUS.jsonData.forum.reactions_enabled){return}if(DISQUS.jsonData.thread.queued){DISQUS.popup.popModal(DISQUS.strings.get("The system will automatically search for new reactions. If any are found, they will displayed on this comment thread."),DISQUS.strings.get("Thank you"));return}DISQUS.request.get(f,{},true)};d["reactions.showRetweets"]=function(g){var f;DISQUS.lang.forEach(DISQUS.jsonData.reactions,function(h){if(h.id==g){f=h}});DISQUS.popup.popModal(DISQUS.renderBlock("retweetsPopup",{reaction:f}),DISQUS.strings.get("Retweets"))};function e(g,h){try{return g.apply({},h)}catch(f){if(typeof console!="undefined"&&console.log){console.log(f);if(typeof printStackTrace!=="undefined"){console.log(printStackTrace({e:f}).join("\n"))}}return false}}a.register=function(f,g){b[f]=g;return g};a.remove=function(f){if(b[f]){delete b[f];return true}return false};a.fire=function(){var f=arguments[0],j=[],h=true;if(!a.registered(f)){throw"Action "+f+" not found"}j=[];for(var g=1;g<arguments.length;g++){j.push(arguments[g])}if(a.registered(f,true)){h=e(b[f],j)}if(a.hasDefault(f)&&h){e(d[f],j)}return false};a.registered=function(f,g){return !!b[f]||(g?false:a.hasDefault(f))};a.hasDefault=function(f){return !!d[f]};return a}());DISQUS.dtpl.validators=(function(){var a={};a.email=function(c){var b=/^[a-z0-9\-\_\+]+(\.[a-z0-9\-\_\+]+)*\@(([a-z0-9\-\_\+]+(\.[a-z0-9\-\_\+]+)*)+\.[a-z]{2,}|([0-9]+\.){3}[0-9]+)$/i;if(!b.test(c.value)){DISQUS.dtpl.actions.fire("message.error.onField","Please enter a valid email to comment.",c.id);return false}return true};a.name=function(b){var c=DISQUS.strings.get("Name");if(b.value==c||b.value.length<=1){DISQUS.dtpl.actions.fire("message.error.onField","Please enter a name to comment.",b.id);return false}return true};a.website=function(b){var c=DISQUS.strings.get("Website")+" ("+DISQUS.strings.get("Optional")+")";if(!b||!b.value){return true}else{if(b.value==c){b.value="";return true}}if(b.value.indexOf(".")==-1){DISQUS.dtpl.actions.fire("message.error.onField","Please check your website URL (this field is optional).",b.id);return false}return true};a.guestFields=function(c){var b=c&&typeof c==="object"?c:DISQUS.dtpl.getGuestFields(c);if(DISQUS.jsonData.request.is_authenticated){return true}if(!DISQUS.dtpl.validators.email(b.email)){return false}if(!DISQUS.dtpl.validators.name(b.name)){return false}if(!DISQUS.dtpl.validators.website(b.website)){return false}return true};return a})();DISQUS.modules.dtpl=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.NewFrames=function(a){this.url=a};DISQUS.NewFrames.prototype.init=function(a){var b=this;try{this.messenger=new DISQUS.ParentMessenger(this.url,DISQUS.jsonData.integration.receiver_url,this.container,this.receive_callback,this.onready_callback)}catch(c){if(typeof a=="function"){a()}}if(typeof a=="function"){var d=window.setInterval(function(){if(typeof b.messenger=="undefined"){window.clearInterval(d);return}if(b.messenger._ready){window.clearInterval(d)}else{if(b.messenger._error){window.clearInterval(d);a()}}},10)}};DISQUS.NewFrames.prototype.execute=function(d,a,c){var b=this;if(typeof b.messenger=="undefined"){return false}DISQUS.JsonRpc.execute(function(e){b.messenger.sendMessage(e)},d,a||[],c);return true};DISQUS.TweetFrame=function(b,e){var c=this;function a(f){c.messenger.sendMessage(f)}c.receive_callback=DISQUS.JsonRpc.createHandler(a,{"tweetbox.onSuccess":function(){e.onSuccess()}});c.container=b;c.onready_callback=e.onReady;var d=DISQUS.nodes.getBasicStyles();params={f:DISQUS.jsonData.forum.url,t:DISQUS.jsonData.thread.slug,ifrs:DISQUS.config.iframe_css,to_redirect:window.location,cbp:DISQUS.config.callback_params,ff:d.fontFamily,fc:d.fontColor,ac:d.anchorColor,default_text:DISQUS.config.def_text};c.url=DISQUS.getResourceURL(DISQUS.jsonData.urls.tweetbox_frame,params,true)};DISQUS.TweetFrame.prototype=new DISQUS.NewFrames(DISQUS.TweetFrame.url);DISQUS.AuthFrame=function(b,e,f){var c=this;f=f||{};function a(g){c.messenger.sendMessage(g)}c.callbacks={"auth.disqus.onSuccess":function(){if(!DISQUS.states.loginDisabled){DISQUS.reload(e.onComplete)}else{DISQUS.popup.close(null,true)}}};c.receive_callback=DISQUS.JsonRpc.createHandler(a,c.callbacks);c.container=b;c.onready_callback=e.onReady;var d=DISQUS.nodes.getBasicStyles();f=DISQUS.lang.extend({f:DISQUS.jsonData.forum.url,t:DISQUS.jsonData.thread.slug,ifrs:DISQUS.config.iframe_css,to_redirect:window.location,cbp:DISQUS.config.callback_params,ff:d.fontFamily,fc:d.fontColor,ac:d.anchorColor,default_text:DISQUS.config.def_text},f);c.url=DISQUS.getResourceURL(DISQUS.jsonData.urls.embed_login,f,true)};DISQUS.AuthFrame.prototype=new DISQUS.NewFrames(DISQUS.AuthFrame.url);DISQUS.ReplyFrame=function(b,d){var c=this;var f;var e;function a(g){c.messenger.sendMessage(g)}f={"validateComment.onSuccess":"comments.validate.onSuccess","validateComment.onFailure":"comments.validate.onFailure","postComment.onSuccess":"comments.send.onSuccess","postComment.onFailure":"comments.send.onFailure","editComment.onSuccess":"comments.edit.onSuccess","editComment.onFailure":"comments.edit.onFailure","getUserByEmail.onSuccess":"user.getByEmail.onSuccess","validateAuth.onSuccess":"user.validateAuth.onSuccess","validateAuth.onFailure":"user.validateAuth.onFailure",cookieFailure:"cookies.onFailure"};c.callbacks={reload:function(){window.location.reload()}};DISQUS.lang.forEach(f,function(i,h,g){c.callbacks[h]=DISQUS.lang.partial(DISQUS.dtpl.actions.fire,i,undefined,d)});c.receive_callback=DISQUS.JsonRpc.createHandler(a,c.callbacks);c.container=b;c.parent_post_id=d;e={f:DISQUS.jsonData.forum.url,t:DISQUS.jsonData.thread.slug,ff:DISQUS.nodes.getBasicStyles().fontFamily,default_text:DISQUS.config.def_text,ifrs:DISQUS.config.iframe_css};if(d){e.parent_post=d}c.url=DISQUS.getResourceURL(DISQUS.jsonData.urls.reply,e,true)};DISQUS.ReplyFrame.prototype=new DISQUS.NewFrames(DISQUS.ReplyFrame.url);(function(){function a(b){return function(){this.execute(b,Array.prototype.slice.call(arguments))}}DISQUS.TweetFrame.prototype.setContent=a("setContent");DISQUS.AuthFrame.prototype.focus=a("focus");DISQUS.AuthFrame.prototype.authenticateFacebook=function(d,b,c){this.callbacks["authenticateFacebook.onSuccess"]=c.onSuccess;this.execute("authenticateFacebook",[d,b])};DISQUS.AuthFrame.prototype.authenticateSSO=a("authenticateSSO");DISQUS.ReplyFrame.prototype.validate=function(c,b){b=b||{};if(b.onSuccess){this.callbacks["validateComment.onSuccess"]=b.onSuccess}if(b.onFailure){this.callbacks["validateComment.onFailure"]=b.onFailure}this.execute("validateComment",c)};DISQUS.ReplyFrame.prototype.post=a("postComment");DISQUS.ReplyFrame.prototype.edit=a("editComment");DISQUS.ReplyFrame.prototype.setState=a("setState");DISQUS.ReplyFrame.prototype.getUserByEmail=a("getUserByEmail");DISQUS.ReplyFrame.prototype.validateAuth=a("validateAuth")}());DISQUS.modules.NewFrames=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.JsonRpc=(function(){var self={};var ids={};function objectToJSON(obj){var json="";var results=[];var specialChars;specialChars={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"};if(obj===undefined||obj===null){return"null"}switch(obj.constructor){case Object:for(var property in obj){if(obj.hasOwnProperty(property)){results.push(objectToJSON(property)+": "+objectToJSON(obj[property]))}}json="{"+results.join(", ")+"}";break;case Array:for(var i=0;i<obj.length;i++){results.push(objectToJSON(obj[i]))}json="["+results.join(", ")+"]";break;case Number:case Boolean:json=obj.toString();break;case String:json=obj.replace(/[\x00-\x1f\\]/g,function(match){var ch=specialChars[match];return ch?ch:"\\u00"+match.charCodeAt().toPaddedString(2,16)});json='"'+json.replace(/"/g,'\\"')+'"';break;default:json="null"}return json}self.createHandler=function(send_func,registered_funcs){var handler=function(message){try{var rpc=eval("("+message+")")}catch(e){alert("bad JSON: "+message);return}if(rpc.method){if(!registered_funcs[rpc.method]){return}var retval=registered_funcs[rpc.method].apply(null,rpc.params||[]);if(rpc.id){var response={result:retval,error:null,id:rpc.id};send_func(objectToJSON(response))}}else{if(rpc.result){if(!ids[rpc.id]){return}ids[rpc.id](rpc.result);delete ids[rpc.id]}}};return handler};self.execute=function(send_func,method,params,response_callback){response_callback=response_callback||null;var id=(response_callback)?(new Date()).getTime():null;var request={method:method,params:params,id:id};send_func(objectToJSON(request));if(id){ids[id]=response_callback}};return self}());DISQUS.modules.JsonRpc=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.api=(function(){var a={};a.getChannel=function(c){var b=DISQUS.frames["reply_"+(c||0)];return b||null};a.getCommentBox=function(b){return new DISQUS.api.CommentBox(b)};a.ensureLoggedIn=function(e,c,b){var d;b=b||{};if(DISQUS.jsonData.request.is_authenticated){e()}else{switch(c){case"disqus":d=new DISQUS.api.DisqusLoginBox();break;case"twitter":d=new DISQUS.api.TwitterLoginBox();break;case"yahoo":d=new DISQUS.api.YahooLoginBox();break;case"openid":d=new DISQUS.api.OpenIDLoginBox();break;case"facebook":d=new DISQUS.api.FacebookLoginBox();break;case"sso":d=new DISQUS.api.SSOLoginBox();break;default:d=new DISQUS.api.LoginBox(b);d.title=DISQUS.strings.get("Before we post this, who are you?")}d.onClose=function(){if(DISQUS.jsonData.request.is_authenticated){e()}else{if(typeof b.onFailure=="function"){b.onFailure()}}};d.show()}};return a}());DISQUS.api.CommentBox=function(a){this.parentId=a;this.channel=DISQUS.api.getChannel(a)};DISQUS.api.CommentBox.prototype.validate=function(a){this.channel.validate([this.parentId],a)};DISQUS.api.LoginBox=function(b){var a=this;a.events=b;a.tabs={};a.enabledTab=null;DISQUS.addJob(function(){return !!DISQUS.strings},function(){a.title=DISQUS.strings.get("Login or Register")})};DISQUS.lang.extend(DISQUS.api.LoginBox.prototype,{show:function(){var a=this;var c=DISQUS.renderBlock("loginPopup",DISQUS.states);var b={onClose:a.onClose,onReady:function(){a.onContentReady()}};DISQUS.popup.popModal(c,this.title,null,null,"dsq-login-box",b)},close:function(){DISQUS.popup.close(null,true)}});DISQUS.api.LoginBox.prototype.onContentReady=function(){var a=this;var b=this.tabs;var c=DISQUS.ui;if(DISQUS.jsonData.forum.allow_anon_post){b.guest=new c.LoginBoxTab(this,"dsq-login-tab-guest",new c.GuestLoginContent(null,function(){a.events.onGuest();a.close()}))}if(DISQUS.jsonData.context.forum_facebook_key){b.facebook=new c.LoginBoxTab(this,"dsq-login-tab-facebook",new c.ExternalLoginContent(this,"facebook"))}b.disqus=new c.LoginBoxTab(this,"dsq-login-tab-disqus",(DISQUS.states.useLoginWindow?new c.ExternalLoginContent(this,"disqus"):new c.DisqusLoginContent(null,function(){a.close()})));b.twitter=new c.LoginBoxTab(this,"dsq-login-tab-twitter",new c.ExternalLoginContent(this,"twitter"));b.yahoo=new c.LoginBoxTab(this,"dsq-login-tab-yahoo",new c.ExternalLoginContent(this,"yahoo"));b.openid=new c.LoginBoxTab(this,"dsq-login-tab-openid",new c.OpenIdLoginContent(this));b.sso=new c.LoginBoxTab(this,"dsq-login-tab-sso",new c.SSOLoginContent(this));if(b.guest){b.guest.enable()}else{b.disqus.enable()}};DISQUS.api.DisqusLoginBox=function(){};DISQUS.api.DisqusLoginBox.prototype=new DISQUS.api.LoginBox();DISQUS.api.DisqusLoginBox.prototype.show=function(){var d=this;var a='<div id="dsq-login-iframe-wrapper" style="height:320px;"></div>';if(!DISQUS.states.useLoginWindow){DISQUS.popup.popModal(a,this.title,null,true,"dsq-popup-login",{onReady:function(){d.content=new DISQUS.ui.DisqusLoginContent("dsq-login-iframe-wrapper",function(){d.close()});d.content.show()},onClose:this.onClose})}else{var e=DISQUS.nodes.getIframeDefaults();e.is_popup=true;var b=window.open(DISQUS.getResourceURL(DISQUS.jsonData.urls.embed_login,e,true),"_blank","height=420,width=400");if(window.focus){b.focus()}var c=setInterval(function(){if(b.closed){clearInterval(c);DISQUS.reload(function(){d.onClose()})}},500)}};DISQUS.api.TwitterLoginBox=function(){};DISQUS.api.TwitterLoginBox.prototype=new DISQUS.api.LoginBox();DISQUS.api.TwitterLoginBox.prototype.show=function(){var c,b,a=this;var d="location=0,status=0,width=800,height=400";a.window=c=window.open(DISQUS.jsonData.urls.twitter_connect,"twitterWindow",d);if(!c){return}b=setInterval(function(){if(c.closed){clearInterval(b);DISQUS.reload(function(){a.onClose()})}},500)};DISQUS.api.YahooLoginBox=function(){};DISQUS.api.YahooLoginBox.prototype=new DISQUS.api.LoginBox();DISQUS.api.YahooLoginBox.prototype.show=function(){var c,b,a=this;var d="location=0,status=0,width=800,height=400";a.window=c=window.open(DISQUS.jsonData.urls.yahoo_connect,"yahooWindow",d);if(!c){return}b=setInterval(function(){if(c.closed){clearInterval(b);DISQUS.reload(function(){a.onClose()})}},500)};DISQUS.api.OpenIDLoginBox=function(){this.title=DISQUS.strings.get("Sign in using OpenID")};DISQUS.api.OpenIDLoginBox.prototype=new DISQUS.api.LoginBox();DISQUS.api.OpenIDLoginBox.prototype.show=function(){var a=this;var b={onReady:function(){a.content=new DISQUS.ui.OpenIdLoginContent(a)},onClose:this.onClose};DISQUS.popup.popModal(DISQUS.renderBlock("openidForm"),this.title,null,null,true,b)};DISQUS.api.SSOLoginBox=function(){};DISQUS.api.SSOLoginBox.prototype=new DISQUS.api.LoginBox();DISQUS.api.SSOLoginBox.prototype.show=function(){var b=this;var c="location=0,status=0,width="+(DISQUS.config.sso.width||800)+",height="+(DISQUS.config.sso.height||400);var d=window.open(DISQUS.config.sso.url,"ssoWindow",c);var a=setInterval(function(){if(d.closed){clearInterval(a);window.location.reload()}},500)};(function(){var c=false;var b=function(){};b.prototype={init:function(d,e){FB.init(d,e,{fetchSignedPublicSessionData:true})},login:function(e,d){FB.Connect.requireSession(function(){FB.Connect.get_status().waitUntilReady(function(f){switch(f){case FB.ConnectState.connected:e();break;case FB.ConnectState.appNotAuthorized:case FB.ConnectState.userNotLoggedIn:d()}})},true)},getSignedPublicSessionData:function(d){FB.Connect.getSignedPublicSessionData(d)},streamPublish:function(d,e){FB.Connect.streamPublish(d,e)},streamShare:function(d,e,f){FB.Connect.streamPublish(d,e,function(g,h){if(typeof f==="function"){f(g)}})}};var a=function(){this.session=null};a.prototype={init:function(d,e){FB.init({apiKey:d,channelUrl:e,status:true,cookie:true})},login:function(f,e){var d=this;FB.login(function(g){if(g.session){d.session=g.session;f()}else{d.session=null;e()}})},getSignedPublicSessionData:function(e){var d=this;FB.api({method:"auth.getSignedPublicSessionData",session_key:d.session.session_key},e)},streamPublish:function(d,e,f){FB.ui({method:"stream.publish",message:d,attachment:e},function(g,h){if(typeof f==="function"){f(g,h)}})},streamShare:function(d,e,f){FB.ui({method:"stream.share",u:e.href},function(g){if(typeof f==="function"){f(g.post_id)}})}};DISQUS.api.FacebookLoginBox=function(){if(!this.isReady()){this.load()}};DISQUS.api.FacebookLoginBox.prototype=new DISQUS.api.LoginBox();DISQUS.api.FacebookLoginBox.prototype.load=function(){var f;if(c){return}c=true;if(window.DISQUS){var e=["fb-root","FB_HiddenContainer"];DISQUS.lang.forEach(e,function(g){if(DISQUS.nodes.get("#"+g)){return}f=document.createElement("div");f.id=g;if(g=="FB_HiddenContainer"){f.style.position="absolute";f.style.top="-10000px";f.style.left="-10000px";f.style.width="0px";f.style.height="0px"}DISQUS.nodes.get("body")[0].appendChild(f)})}function d(){return window.FB&&FB.init}if(window.FB){if(FB.dynData&&!FB.init){DISQUS.require("http://static.ak.connect.facebook.com/js/api_lib/v0.4/FeatureLoader.js.php")}else{}}else{DISQUS.require("http://connect.facebook.net/en_US/all.js")}DISQUS.addJob(d,function(){if(FB.getLoginStatus){DISQUS.FB=new a()}else{if(FB.ensureInit){DISQUS.FB=new b()}else{if(console){console.log("Unknown FB library.")}}}var g=DISQUS.jsonData.context.forum_facebook_key;if(DISQUS.config.facebook_key){g=DISQUS.config.facebook_key}DISQUS.FB.init(g,window.facebookXdReceiverPath||null)})};DISQUS.api.FacebookLoginBox.prototype.isReady=function(){return DISQUS.FB};DISQUS.api.FacebookLoginBox.prototype.show=function(){var d=this;function e(){return DISQUS.FB}if(!e()){DISQUS.addJob(e,d.show);return}DISQUS.addJob(e,function(){DISQUS.FB.login(function(){DISQUS.FB.getSignedPublicSessionData(function(i){var k={onSuccess:function(){DISQUS.reload(function(){d.onClose()})}};var h=DISQUS.jsonData.forum.url;if(DISQUS.config.facebook_forum){h=DISQUS.config.facebook_forum}var g=DISQUS.nodes.get("#dsq-facebook-iframe");if(!g){g=document.createElement("div");g.id="dsq-facebook-iframe";g.style.display="none";var f=DISQUS.nodes.get("body")[0];f.appendChild(g)}var j=new DISQUS.AuthFrame(g,{onReady:function(){j.authenticateFacebook(i,h,k)}});j.init()})},function(){d.onClose()})})}})();DISQUS.modules.api=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.FragmentPacket=function(a,f,d,c,b){var e=this;this.reader=a;this.writer=f;this.writer_url=d;this.is_child=c||false;this.receiveCallback=b;this._lastHash=null;this._accumMsg="";this._lastSeqno=0;this.MAX_DATA_LEN=1024;this.WAIT_TIME=10;this.READY=1;this.WRITING=2;this.FIN=4;this.ACK=8};DISQUS.FragmentPacket.prototype.createListener=function(){var a=this;var b=function(){try{a.recv()}catch(c){if(!DISQUS.browser.ie){throw (c)}}};return window.setInterval(b,10)};DISQUS.FragmentPacket.prototype.log=function(a){};DISQUS.FragmentPacket.prototype.recv=function(){var d;if(/MSIE/.test(navigator.userAgent)){d=this.reader.name}else{var b=this.reader.location.href.indexOf("#");if(b==-1){return null}d=this.reader.location.href.substring(b+1)}var a=parseInt(d.substring(0,4),10);var e=parseInt(d.substring(4,24),10);var c=d.substring(24);if(this._lastHash!==d){this._lastHash=d;this.log("recv: "+d);this.log(" flags: "+a);this.log(" seqno: "+e+" len: "+d.substring(4,24).length+" ("+d.substring(4,24)+")");this.log(" data: "+c+" len: "+c.length);this._lastSeqno=e;if(a&this.WRITING){this._accumMsg+=c;this.sendFlag(this.ACK,e);if(a&this.FIN){this.log("recv finished: "+decodeURIComponent(this._accumMsg));this.receiveCallback(decodeURIComponent(this._accumMsg));this._accumMsg="";this.sendFlag(this.READY|this.ACK,this._lastSeqno)}}}return{flags:a,seqno:e,data:c}};DISQUS.FragmentPacket.prototype.sendRawPacket=function(a){if(/MSIE/.test(navigator.userAgent)){this.writer.name=a}else{this.writer.location.href=this.writer_url+"#"+a}};DISQUS.FragmentPacket.prototype.sendFlag=function(a,b){this.sendRawPacket(this._zerofill(a,4)+this._zerofill(b,20))};DISQUS.FragmentPacket.prototype.send=function(a){this._send(0,encodeURIComponent(a))};DISQUS.FragmentPacket.prototype._send=function(h,g){var c=this;var a=this.recv();if(h===0){if(!(a.flags&this.READY)){this.log("client is not ready, waiting...");window.setTimeout(function(){c._send(h,g)},this.WAIT_TIME);return false}}else{if(!((a.flags&this.ACK)&&(a.seqno===this._lastSeqno))){this.log("waiting for ack from client...");window.setTimeout(function(){c._send(h,g)},this.WAIT_TIME);return false}else{this.log("received ack: "+this._lastSeqno+" "+a.seqno)}}var b=this.WRITING;var f=Math.ceil(g.length/this.MAX_DATA_LEN);this.log("num_packets: "+f);if(f===h){this.log("message successfully sent!");this.sendFlag(this.READY|this.ACK,this._lastSeqno);return true}this._lastSeqno++;if(h==f-1){b|=this.FIN}var d=g.substring(h*this.MAX_DATA_LEN,(h+1)*this.MAX_DATA_LEN);var e=this._zerofill(b,4)+this._zerofill(this._lastSeqno,20)+d;this.log("sending raw packet: "+e);this.sendRawPacket(e);return this._send(h+1,g)};DISQUS.FragmentPacket.prototype._zerofill=function(b,d){var a=b.toString();var e=a.length;for(var c=0;c<d-e;c++){a="0"+a}return a};DISQUS.modules.FragmentPacket=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.ParentMessenger=function(e,h,a,b,d){if(!DISQUS.ParentMessenger.isSupported(h)){throw new Error("unsupported.")}if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){if(document.domain==window.location.hostname){h=""}}var f=this;this.childUrl=e;this.receiverUrl=h;this.container=a||document.body;this.packetHandler=null;this._ready=false;this._error=false;var g=function(){f.receiver=document.createElement("iframe");f.receiver.src=h;f.receiver.id="receiver_"+(new Date()).getTime();f.receiver.name=f.receiver.id;f.receiver.frameBorder="0";f.receiver.frameSpacing="0";f.receiver.style.borderStyle="none";var i=function(){var k=document.getElementById(f.receiver.id).contentWindow;try{k.document.body.innerHTML=""}catch(l){f._error=true}k.document.body.style.padding="0px";k.document.body.style.margin="0px";var m=k.document.createElement("iframe");m.id="child";m.name="child";m.src=f.childUrl;m.frameBorder="0";m.frameSpacing="0";m.style.borderStyle="none";m.style.width="100%";m.style.height="100%";k.document.body.appendChild(m);f.child=k.document.getElementById("child").contentWindow;f.receiver=k;f.packetHandler=new DISQUS.FragmentPacket(f.receiver,f.child,f.childUrl,false,b);f._listener=f.packetHandler.createListener();f.packetHandler.sendFlag(f.packetHandler.READY,0);f._ready=true};f.receiver.onreadystatechange=function(){if(this.readyState=="complete"){i();if(typeof d==="function"){d()}}};f.receiver.onload=i;if(DISQUS.browser.ie6){if(f.container.clientWidth===0){var j=function(){if(f.container.clientWidth>0){DISQUS.dtpl.actions.fire("thread.fixIframesIE",f.container.id)}else{window.setTimeout(j,100)}};j();f._once=false;f.receiver.onresize=function(){if(!f._once){DISQUS.dtpl.actions.fire("thread.fixIframesIE",f.container.id)}f._once=true}}}f.container.appendChild(f.receiver)};var c=function(){var i=function(){setTimeout(function(){f.packetHandler.send();f._ready=true;if(typeof d==="function"){d()}},500)};var l=DISQUS.PostMessagePacket._get_unique_id();var k="child_"+l;DISQUS.ParentMessenger["_receiver_onload_"+k]=i;var j=document.createElement("iframe");j.src=e;j.id=k;j.name=k;j.style.borderStyle="none";j.frameBorder="0";j.frameSpacing="0";j.setAttribute("onload","DISQUS.ParentMessenger._receiver_onload_"+k+"();");f.container.appendChild(j);f.receiver=document.getElementById(k).contentWindow;f.packetHandler=new DISQUS.PostMessagePacket(f.receiver,b,l,k);f._listener=f.packetHandler.createListener()};if(typeof window.postMessage=="function"){c()}else{g()}};DISQUS.ParentMessenger.prototype.sendMessage=function(b){var a=this;if(!this._ready){window.setTimeout(function(){a.sendMessage(b)},10);return}this.packetHandler.send(b);return true};DISQUS.ParentMessenger.isSupported=function(a){if(navigator.userAgent.indexOf("Safari")>=0&&parseInt(navigator.userAgent.substring(navigator.userAgent.indexOf("Version/")+8),10)==3){return false}else{if(window.opera&&!navigator.userAgent.match(/Version\/10\.[0-9]+[^b]/)){return false}else{if(!a&&navigator.userAgent.indexOf("Gecko")>=0&&parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("rv:")+3,navigator.userAgent.indexOf("rv:")+6))<1.9){return false}}}return true};DISQUS.modules.ParentMessenger=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.ChildMessenger=function(c,b){var a=this;if(DISQUS.browser.ie){c=""}if(typeof window.postMessage=="function"){a.packetHandler=new DISQUS.PostMessagePacket(window.parent,b);a.type="PostMessagePacket"}else{a.receiverUrl=c;a.packetHandler=new FragmentPacket(window,window.parent,c,true,b);a.type="FragmentPacket";a.packetHandler.sendFlag(a.packetHandler.READY,0)}a._listener=a.packetHandler.createListener()};DISQUS.ChildMessenger.prototype.sendMessage=function(b){var a=this;if(a.type=="PostMessagePacket"&&!a.packetHandler.id){window.setTimeout(function(){a.sendMessage(b)},10);return}a.packetHandler.send(b);return true};var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.ui=(function(){var a={};a.ContentBase=function(b,c){this.opts=c||{};this.container=DISQUS.nodes.get("#"+b)};a.ContentBase.prototype={show:function(){this.container.style.display="block";var b=DISQUS.nodes.get("input",this.container);if(b.length&&!this.opts.noAutoFocus){b[0].focus()}},hide:function(){this.container.style.display="none"}};a.GuestLoginContent=function(h,f,e){var g=h?"-"+h:"";a.ContentBase.call(this,"dsq-login-guest"+g,e);function c(k){var m,j="";if(k){m=k.split("@")[0].split(".");for(var l=0;l<m.length;l++){j+=m[l].charAt(0).toUpperCase()+m[l].slice(1)+" "}return DISQUS.lang.trim(j)}}DISQUS.events.add(DISQUS.nodes.get("#dsq-field-email"+g),"keyup",function(j){var k=j.target||j.srcElement;var i=c(k.value);if(i){DISQUS.nodes.get("#dsq-field-name"+g).value=i}});var d=DISQUS.nodes.get("a",DISQUS.nodes.get(".dsq-login-add-url")[0])[0];if(d){DISQUS.events.add(d,"click",function(i){d.parentNode.parentNode.style.display="none";DISQUS.nodes.get("#dsq-optional-field-website").style.display="block";i.preventDefault()})}var b=DISQUS.nodes.get("#dsq-submit-guest"+g);DISQUS.events.add(b,"click",function(){if(DISQUS.dtpl.validators.guestFields(h)){f(this)}})};DISQUS.lang.extend(a.GuestLoginContent.prototype,a.ContentBase.prototype);a.DisqusLoginContent=function(f,d){var b=this;var e="dsq-login-disqus";if(!f){f=e}else{if(parseInt(f,10)){f=e+"-"+f}}a.ContentBase.call(b,f);var c={};if(DISQUS.config.frame_theme){c.theme=DISQUS.config.frame_theme}b.iframeReady=false;b.focusOnReady=false;b.iframe=new DISQUS.AuthFrame(b.container,{onReady:function(){b.onIframeReady()},onComplete:d},c);b.iframe.init(function(){var h={};var g={id:f,"class":"dsq-post-login"};b.container.appendChild(DISQUS.nodes.createIframe(DISQUS.jsonData.urls.embed_login,h,g))})};DISQUS.lang.extend(a.DisqusLoginContent.prototype,a.ContentBase.prototype,{onIframeReady:function(){this.iframeReady=true;if(this.focusOnReady&&!this.noAutoFocus){this.iframe.focus()}},show:function(){a.ContentBase.prototype.show.call(this);if(!this.iframeReady){this.focusOnReady=true}else{if(!this.noAutoFocus){this.iframe.focus()}}}});a.ExternalLoginContent=function(c,d){a.ContentBase.call(this,"dsq-login-"+d);var b=this;launcher=DISQUS.nodes.get(".dsq-external-launcher",this.container)[0];DISQUS.events.add(launcher,"click",function(){var e={onFailure:function(){DISQUS.nodes.get(".dsq-remote-authentication",b.container)[0].style.display="none";DISQUS.nodes.get(".dsq-connect-msg",b.container)[0].style.display="block"}};DISQUS.nodes.get(".dsq-connect-msg",b.container)[0].style.display="none";DISQUS.nodes.get(".dsq-remote-authentication",b.container)[0].style.display="block";DISQUS.api.ensureLoggedIn(function(){c.close()},d,e)})};DISQUS.lang.extend(a.ExternalLoginContent.prototype,a.ContentBase.prototype);a.OpenIdLoginContent=function(c){a.ContentBase.call(this,"dsq-login-openid");var b=DISQUS.nodes.get("#dsq-openid-submit-button");DISQUS.events.add(b,"click",function(){var e=this;var h,d;var i="location=0,status=0,width=800,height=500";var f=DISQUS.jsonData.urls.openid_connect;var g=DISQUS.nodes.get("#dsq-openid-url").value;if(/^\s*$/.test(g)){return}f=DISQUS.getResourceURL(f,{url:g,username:DISQUS.nodes.get("#dsq-openid-username").value});h=window.open(f,"openidWindow",i);d=setInterval(function(){if(h.closed){clearInterval(d);DISQUS.reload(function(){c.close()})}},500)})};DISQUS.lang.extend(a.OpenIdLoginContent.prototype,a.ContentBase.prototype);a.SSOLoginContent=function(b){a.ExternalLoginContent.call(this,b,"sso")};DISQUS.lang.extend(a.SSOLoginContent.prototype,a.ExternalLoginContent.prototype);a.iFrameContent=function(b,c){a.ContentBase.call(this,b);this.url=c;this.iframe=null};DISQUS.lang.extend(a.iFrameContent.prototype,a.ContentBase.prototype,{show:function(){var b=this;if(!this.iframe){this.iframe=DISQUS.nodes.createIframe(this.url,{},{style:"display:none",frameBorder:"0",frameSpacing:"0",height:"100%",width:"100%"});DISQUS.events.add(this.iframe,"load",function(){b.spinner.style.display="none";b.iframe.style.display="block"});this.spinner=document.createElement("img");this.spinner.src=DISQUS.settings.media_url+"/images/dsq-loader.gif";this.container.appendChild(this.spinner);this.container.appendChild(this.iframe)}a.ContentBase.prototype.show.call(this)}});a.LoginBoxTab=function(e,d,f){var b=this;b.parent=e;b.tabNode=DISQUS.nodes.get("#"+d);b.content=f;var c=DISQUS.nodes.get("a",b.tabNode)[0];DISQUS.events.add(c,"click",function(g){b.enable();g.preventDefault();return false})};a.LoginBoxTab.prototype={enable:function(){if(this.parent.enabledTab){this.parent.enabledTab.disable()}DISQUS.nodes.addClass(this.tabNode,"dsq-active");this.content.show();this.parent.enabledTab=this},disable:function(){DISQUS.nodes.removeClass(this.tabNode,"dsq-active");this.content.hide()}};a.ProfileModal=function(){var b=this};a.ProfileModal.prototype={show:function(h){var e=this;h=h||{};if(typeof h==="string"){h={username:h}}var f=DISQUS.settings.disqus_url+(h.anonymous?"/embed/guest/":"/embed/")+h.username;f=DISQUS.getResourceURL(f,{is_moderator:h.isModerator});var g=DISQUS.nodes.createIframe(f,{},{width:"100%",height:"100%",scrolling:"no",frameBorder:"0",frameSpacing:"0",style:"visibility:hidden"});var c=DISQUS.popup.rawModal('<div class="dsq-border" style="width:570px; height:525px;"><a href="#" class="dsq-modal-close-btn">Close</a><div class="dsq-popup-raw-container"></div></div>',h.onClose);var d=DISQUS.nodes.get(".dsq-modal-close-btn",c)[0];DISQUS.events.add(d,"click",function(i){e.close();i.preventDefault();return false});var b=DISQUS.nodes.get("div.dsq-popup-raw-container",c)[0];b.appendChild(g);g.onreadystatechange=g.onload=function(){g.style.visibility="visible"}},close:function(){DISQUS.popup.close(null,true)}};a.ProfileEditModal=function(){var b=this;b.tabs={};b.enabledTab=null};a.ProfileEditModal.prototype.show=function(){var b=this;var c={onClose:b.onClose,onReady:function(){b.onContentReady()}};DISQUS.popup.popModal(DISQUS.renderBlock("profileEdit"),DISQUS.strings.get("Edit your profile"),null,null,null,c)};a.ProfileEditModal.prototype.onContentReady=function(){var b=this.tabs;var e=DISQUS.ui;var d=DISQUS.settings||DISQUS.jsonData.settings;var c=DISQUS.config.page?encodeURIComponent(DISQUS.config.page.url):"";if(DISQUS.jsonData&&DISQUS.jsonData.request.has_unmerged_users){b.merge=new e.LoginBoxTab(this,"dsq-tab-profile-merge",new e.iFrameContent("dsq-profile-merge",d.disqus_url+"/embed/profile/merge?thread_url="+c))}b.edit=new e.LoginBoxTab(this,"dsq-tab-profile-edit",new e.iFrameContent("dsq-profile-edit",d.disqus_url+"/embed/profile/info?thread_url="+c));b.avatar=new e.LoginBoxTab(this,"dsq-tab-profile-avatar",new e.iFrameContent("dsq-profile-avatar",d.disqus_url+"/embed/profile/avatar?thread_url="+c));b.services=new e.LoginBoxTab(this,"dsq-tab-profile-services",new e.iFrameContent("dsq-profile-services",d.disqus_url+"/embed/profile/connections?thread_url="+c));b.notifications=new e.LoginBoxTab(this,"dsq-tab-profile-notifications",new e.iFrameContent("dsq-profile-notifications",d.disqus_url+"/embed/account/notifications?thread_url="+c));b.account=new e.LoginBoxTab(this,"dsq-tab-profile-account",new e.iFrameContent("dsq-profile-account",d.disqus_url+"/embed/account?thread_url="+c));(b.merge||b.edit).enable()};a.applyTooltips=function(b){if(typeof b==="undefined"){b=DISQUS.nodes.get("#disqus_thread")}var c=DISQUS.nodes.get(".dsq-tt",b);DISQUS.lang.forEach(c,function(f,d){var e=new DISQUS.Tooltip(f,{gravity:"s",trigger:"hover",opacity:0.96})})};return a})();DISQUS.modules.ui=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.PostMessagePacket=function(c,a,e,d){var b=this;this.receiver=c;this.receiveCallback=a;this.id=e;this.receiverId=d};DISQUS.PostMessagePacket.prototype.createListener=function(){var a=this;var b=function(d){if(!a.id){a.id=d.data;return}var f=d.data.split(";")[0];if(f!==a.id){return}var c=d.data.substring(d.data.indexOf(";")+1);a.receiveCallback(c)};if(/MSIE/.test(navigator.userAgent)&&typeof window.attachEvent=="function"){window.attachEvent("onmessage",b)}else{if(typeof window.addEventListener=="function"){window.addEventListener("message",b,false)}else{throw new Error("No method found to create event listener for DISQUS.PostMessagePacket.")}}};DISQUS.PostMessagePacket.prototype.send=function(d){var a=false;try{if(typeof this.receiver.id=="undefined"||typeof this.receiver.postMessage=="undefined"){a=true}}catch(c){}if(a&&typeof this.receiverId!="undefined"){this.receiver=document.getElementById(this.receiverId).contentWindow}var b;if(!d){b=this.id}else{b=this.id+";"+d}this.receiver.postMessage(b,"*")};DISQUS.PostMessagePacket._last_unique_id=null;DISQUS.PostMessagePacket._get_unique_id=function(){var a=(new Date()).getTime();if(a==DISQUS.PostMessagePacket._last_unique_id){a++}DISQUS.PostMessagePacket._last_unique_id=a;return a.toString()};DISQUS.modules.PostMessagePacket=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.sandbox=(function(){var a={};var e;var d={};var b;function f(){var k=DISQUS.jsonData;var m={DISQUS:null,browser:DISQUS.browser,config:DISQUS.config,lang:{forEach:DISQUS.lang.forEach,interpolate:DISQUS.strings.interpolate,contains:DISQUS.lang.contains,pluralize:DISQUS.strings.pluralize,extend:DISQUS.lang.extend},states:DISQUS.states,trans:DISQUS.strings.get,settings:DISQUS.settings};if(!k){return m}DISQUS.lang.extend(m,{context:k.context,comments:[],comment:null,forum:k.forum,integration:k.integration,loginOptions:[{name:"disqus",button_url:k.settings.media_url+"/images/themes/narcissus/login-disqus.gif",enabled:!k.forum.disqus_auth_disabled,action:"auth.disqus"},{name:"facebook",button_url:k.settings.media_url+"/images/themes/narcissus/login-facebook.gif",enabled:k.context.use_fb_connect,action:"auth.facebook"},{name:"twitter",button_url:k.settings.media_url+"/images/themes/narcissus/login-twitter.gif",enabled:k.context.use_twitter_signin,action:"auth.twitter"},{name:"openid",button_url:k.settings.media_url+"/images/themes/narcissus/login-openid.gif",enabled:k.context.use_openid,action:"auth.openid"},{name:"yahoo",button_url:k.settings.media_url+"/images/themes/narcissus/login-yahoo.png",enabled:k.context.use_yahoo,action:"auth.yahoo"}],request:k.request,reactions:k.reactions,session:k.session,sorting:[{value:"hot",label:DISQUS.strings.get("Popular now"),selected:k.request.sort==4},{value:"best",label:DISQUS.strings.get("Best rating"),selected:k.request.sort==3},{value:"newest",label:DISQUS.strings.get("Newest first"),selected:k.request.sort==2},{value:"oldest",label:DISQUS.strings.get("Oldest first"),selected:k.request.sort==1}],thread:k.thread,urls:k.urls});DISQUS.lang.extend(m.settings,k.settings);if(DISQUS.db.available()){var j,i,l=DISQUS.db.get("thread_votes");if(l&&l[k.thread.id]){j=l[k.thread.id];if(j.timestamp>=k.request.timestamp){i=j.value-m.thread.user_vote;m.thread.likes+=i<0?0:i;m.thread.user_vote=j.value}else{delete l[k.thread.id];DISQUS.db.set("thread_votes",l)}}}m.context.realtime_enabled=k.realtime_enabled;m.context.has_more_reactions=k.has_more_reactions;m.context.getUserServices=DISQUS.user.getUserServices;if(DISQUS.config.page.trackback_url&&DISQUS.config.page.trackbacks){m.context.trackback_url=DISQUS.config.page.trackback_url;m.context.trackbacks=DISQUS.config.page.trackbacks}else{m.context.trackback_url=k.settings.disqus_url+"/forums/"+k.forum.url+"/"+k.thread.slug+"/trackback/";m.context.trackbacks=k.trackbacks}m.context.sharing=[];DISQUS.lang.forEach(m.request.sharing,function(p,o,n){if(m.request.is_remote&&m.request.remote_domain!=o){return}p.key=o;p.checked=(p.auto===true||m.request.remote_domain==o);m.context.sharing.push(p)});m.request.display_sharing_options=k.request.is_authenticated;if(k.request.is_remote){if(!k.request.sharing.hasOwnProperty(k.request.remote_domain)){m.request.display_sharing_options=false}}if(m.reactions&&m.reactions.length>0){for(b=0;b<m.reactions.length;b++){var h=m.reactions[b].get_service_name;if(h=="trackback"||h=="pingback"){m.reactions[b].service_icon="rss"}else{m.reactions[b].service_icon=h.replace(" ","")}}if(m.reactions.retweets&&m.reactions.retweets.length===0){m.reactions.retweets=null}}else{m.reactions=null}DISQUS.lang.forEach(k.mediaembed,function(p,o,n){p.thumbnailURL=k.settings.media_url+"/images/mediaembed-thumbnail.png";switch(p.type){case 1:if(p.metadata.thumbnail){p.thumbnailURL=k.settings.uploads_url+"/"+p.metadata.thumbnail+"/cached75.jpg"}break;case 2:case 4:if(p.metadata.thumbnail){p.thumbnailURL=p.metadata.thumbnail}}if(!k.posts[p.post].media){k.posts[p.post].media=[]}k.posts[p.post].media.push(p)});var g=0;DISQUS.lang.forEach(k.ordered_posts,function(r,o,n){var q=k.posts[r];q.isFirst=false;q.isLast=false;q.id=r;q.author=k.users[q.user_key];q.even=(g%2)===0;if(q.parent_post_id&&k.posts[q.parent_post_id]){q.parent=k.posts[q.parent_post_id];q.parent.author=k.users[q.parent.user_key]}q.stripped=function(s){var t=q.message.replace(/<.*?>/g,"");if(t.length>s){return t.substring(0,s)}return null};var p;if(g===0){q.isFirst=true}else{p=m.comments[g-1];if(p.depth<q.depth){q.isFirst=true}else{if(p.depth>q.depth){p.isLast=true}}}m.comments.push(q);g++});if(g>0){m.comments[g-1].isLast=true}m.thread.page_numbers=[];for(b=(m.request.page-2);b<(m.request.page+2);b++){if(b>0&&b<=m.thread.num_pages){m.thread.page_numbers.push(b)}}if(m.thread.page_numbers[0]==2){m.thread.page_numbers.unshift(1)}if(m.thread.page_numbers[m.thread.page_numbers.length-1]==m.thread.num_pages-1){m.thread.page_numbers.push(m.thread.num_pages)}return m}function c(){var g={};DISQUS.lang.forEach(d,function(i,h){if(typeof i!="undefined"){DISQUS.lang.extend(g,i)}});return g}a.wrap=function(g,i,j){var h;if(typeof e=="undefined"){e=f()}if(j){d[g]=j}h=i(e,c());if(d[g]){d[g]=undefined}return h};a.invalidateGlobals=function(){e=undefined};return a}());DISQUS.modules.sandbox=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}DISQUS.cookies=(function(){var a={};a.create=function(b,c){document.cookie=b+"="+c+"; path=/"};a.read=function(b){var f=b+"=";var d,e=document.cookie.split(";");for(var c=0;c<e.length;c++){d=e[c];while(d.charAt(0)==" "){d=d.substring(1,d.length)}if(d.indexOf(f)===0){return d.substring(f.length,d.length)}}return null};a.erase=function(c){var b=new Date();b.setTime(b.getTime()+(-1*24*60*60*1000));document.cookie=c+"=;expires="+b.toGMTString()+"; path=/"};return a}());DISQUS.events=(function(){var a={};var c={ready:false,timer:null,queue:[]};function b(){if(c.ready){return}if(document&&document.getElementsByTagName&&document.getElementById&&document.body){clearInterval(c.timer);c.timer=null;for(var d=0;d<c.queue.length;d++){c.queue[d]()}c.queue=[];c.ready=true}}a.add=function(e,d,g){var f=g;if(e.addEventListener){e.addEventListener(d,f,false)}else{if(e.attachEvent){f=function(){var h=window.event;h.preventDefault=function(){h.returnValue=false};return g(h)};e.attachEvent("on"+d,f)}else{throw"Event registration not supported"}}return f};a.remove=function(e,d,f){if(e.removeEventListener){e.removeEventListener(d,f,false)}else{if(e.detachEvent){e.detachEvent("on"+d,f)}}};a.execOnReady=function(d){if(c.ready){d();return}if(c.timer){c.queue.push(d)}else{a.add(window,"load",b);c.queue.push(d);c.timer=setInterval(b,13)}};return a}());DISQUS.user=(function(){var a={};a.getUserServices=function(c){var b=["blog","twitter","facebook","tumblr"];var d=[];DISQUS.lang.forEach(b,function(e,h,g){var f;if(c[e]){f=({blog:function(i){return i},twitter:function(i){return i},facebook:function(i){return i},tumblr:function(i){return"http://"+i+".tumblr.com"}})[e](c[e]);d.push({name:e.toLowerCase(),display_name:e,url:f})}});return d};return a}());DISQUS.nodes=(function(){var l={};var k;function b(n){return new RegExp("(^|\\s)"+n+"(\\s|$)")}function j(o,t,p){var u;var r;var s;var n;s=b(t);n=[];o=o||"*";p=p||l.body;t=t.replace(/\-/g,"\\-");u=(o=="*"&&p.all)?p.all:p.getElementsByTagName(o);for(var q=0;q<u.length;q++){r=u[q];if(s.test(r.className)){n.push(r)}}return n}function i(o){var n=[];for(var p=0;p<o.length;p++){if(p in o){n[p]=o[p]}}return n}l.container=document.getElementById("dsq-content");l.body=document.body||document.getElementsByTagName("body")[0];l.head=document.getElementsByTagName("head")[0]||document.getElementById("disqus_thread");l.get=function(p,n){if(p.slice(0,1)=="#"){return document.getElementById(p.slice(1))}else{if(p.indexOf(".")!=-1){return document.querySelectorAll?i((n||l.body).querySelectorAll(p)):j(p.slice(0,p.indexOf(".")),p.slice(p.indexOf(".")+1),n)}else{var o=(n||document).getElementsByTagName(p);return i(o)}}};l.is=function(n,o){if(n.nodeType!==1){return false}else{if(o.slice(0,1)=="#"){return n.id==o.slice(1)}else{if(o.indexOf(".")!=-1){return b(o.slice(1)).test(n.className)}else{return n.tagName.toLowerCase().indexOf(o)!=-1}}}return false};l.closest=function(p,o){var n=p.parentNode;while(n){if(l.is(n,o)){return n}n=n.parentNode}return null};l.createIframe=function(o,s,n){var p;var r;var q;q=l.getIframeDefaults();if(s){DISQUS.lang.forEach(s,function(u,t){q[t]=u})}r={marginwidth:0,marginheight:0,hspace:0,vspace:0,frameborder:0,allowtransparency:"true",src:DISQUS.getResourceURL(o,q,true)};if(n){DISQUS.lang.forEach(n,function(u,t){r[t]=u})}p=document.createElement("iframe");DISQUS.lang.forEach(r,function(u,t){p.setAttribute(t,u)});return p};l.getIframeDefaults=function(){var n=l.getBasicStyles();var o={to_redirect:window.location,ff:n.fontFamily,fc:n.fontColor,ac:n.anchorColor};if(DISQUS.jsonData){DISQUS.lang.extend(o,{f:DISQUS.jsonData.forum.url,t:DISQUS.jsonData.thread.slug,ifrs:DISQUS.config.iframe_css,cbp:DISQUS.config.callback_params,default_text:DISQUS.config.def_text})}return o};l.getPosition=function(n){var p=0;var o=0;if(n.offsetParent){do{p+=n.offsetLeft;o+=n.offsetTop;n=n.offsetParent}while(n)}return[p,o]};l.getStyle=function(o,q,n){var p;if(o.currentStyle){p=o.currentStyle[q]?o.currentStyle[q]:o.currentStyle[n]}else{if(window.getComputedStyle){p=document.defaultView.getComputedStyle(o,null).getPropertyValue(q)}}if(p=="transparent"||p===""){return l.getStyle(o.parentNode,q,n)}else{return p}};l.getBasicStyles=function(){var o;var n;if(k){return k}k={fontColor:null,fontFamily:null,anchorColor:null};exemplar=l.get("#"+DISQUS.config.container_id)||l.get("body")[0];k.fontColor=l.getStyle(exemplar,"color");k.fontFamily=l.getStyle(exemplar,"font-family","fontFamily").replace(/['"]/g,"");o=l.get("a")[0];if(o){k.anchorColor=l.getStyle(o,"color")}return k};l.hasClass=function(o,n){return b(n).test(o.className)};var d=/[\n\t]/g,m=/\s+/,g=/\r/g,c=/href|src|style/,h=/(button|input)/i,f=/(button|input|object|select|textarea)/i,e=/^(a|area)$/i,a=/radio|checkbox/;l.addClass=function(p,q){var s=(q||"").split(m);if(!p.className){p.className=q}else{var o=" "+p.className+" ",r=p.className;for(var t=0,n=s.length;t<n;t++){if(o.indexOf(" "+s[t]+" ")<0){r+=" "+s[t]}}p.className=DISQUS.lang.trim(r)}};l.removeClass=function(p,q){var r=(q||"").split(m);if(q){var o=(" "+p.className+" ").replace(d," ");for(var s=0,n=r.length;s<n;s++){o=o.replace(" "+r[s]+" "," ")}p.className=DISQUS.lang.trim(o)}else{p.className=""}return this};l.toggleClass=function(n,o){if(l.hasClass(n,o)){l.removeClass(n,o)}else{l.addClass(n,o)}};l.remove=function(n){if(!n){return}l.removeChildren(n);if(typeof n.outerHTML!="undefined"){n.outerHTML=""}else{if(n.parentNode){n.parentNode.removeChild(n)}}n=null};l.removeChildren=function(p){var o,r;if(!p){return}o=p.childNodes;var q=o.length-1;while(q>=0){r=o[q];if(r.hasChildNodes()){l.removeChildren(r)}if(typeof r.outerHTML!="undefined"){r.outerHTML=""}else{p.removeChild(r)}r=null;q-=1}};l.toHTML=function(o){var n,p;p=document.createElement("div");p.appendChild(o);n=p.innerHTML;p=null;return n};l.scrollTo=function(n){if(!n){return}else{if(typeof n==="string"){n=l.get(n)}}pos=DISQUS.nodes.getPosition(n);window.scrollTo(0,pos[1])};return l}());DISQUS.request=(function(){var a={};a.get=function(e,f,d,b){var c=document.createElement("script");c.src=DISQUS.getResourceURL(e,f,d);c.charset="UTF-8";(b||DISQUS.nodes.container).appendChild(c);return c};a.post=function(c,g,i){var b;var f;var h;var e;b=document.createElement("div");h="dsq-temp-iframe"+(new Date()).getTime();f=document.createElement("form");f.method="POST";f.action=c;if(!i){f.target=h}try{e=document.createElement('<iframe name="'+h+'">')}catch(d){e=document.createElement("iframe");e.name=h}e.style.display="none";e.id=h;b.appendChild(e);DISQUS.lang.forEach(g,function(m,l,k){var j=document.createElement("input");j.name=l;j.type="hidden";j.value=m;f.appendChild(j)});DISQUS.nodes.body.appendChild(b);DISQUS.nodes.body.appendChild(f);f.submit()};return a}());DISQUS.strings=(function(){var a={};var b={};a.setGlobalContext=function(c){DISQUS.lang.extend(b,c)};a.translations={};a.get=function(d){var c=a.translations[d];return(c?c:d)};a.interpolate=function(d,e){var c=[e||{},b];function f(h){for(var g=0;g<c.length;g++){if(c[g][h]!==undefined){return String(c[g][h])}}throw"Key "+h+"not found in context"}return d.replace(/%\(\w+\)s/g,function(g){return f(g.slice(2,-2))})};a.pluralize=function(d,e,c){return(d!=1)?c||"s":e||""};return a}());DISQUS.strings.Builder=function(){this.value=DISQUS.browser.ie?[]:""};DISQUS.strings.Builder.prototype.put=(function(){if(DISQUS.browser.ie){return function(a){this.value.push(a)}}else{return function(a){this.value+=a}}})();DISQUS.strings.Builder.prototype.compile=function(){if(DISQUS.browser.ie){this.value=this.value.join("")}return this.value};DISQUS.popup=(function(){var a={};var h={};var e=[];var c=[];var d=null;var b=null;function g(k,j,l,i,m){k.className="dsq-popup dsq-popup-"+l+" "+(i||"");h={element:k,id:j,type:l,linkClicked:false};if(DISQUS.browser.ie6||DISQUS.browser.ie7){DISQUS.events.execOnReady(function(){DISQUS.nodes.body.appendChild(k);h.element.style.display="block";a.adjustPosition();if(m.onReady){m.onReady()}})}else{DISQUS.nodes.body.appendChild(k);h.element.style.display="block";a.adjustPosition();if(m.onReady){m.onReady()}}}function f(i,k){var j=i.target||i.srcElement;return !!DISQUS.nodes.closest(j,"#"+k)}a.adjustPosition=function(){if(!h){return false}var j=h.element;var i=DISQUS.window.getSize();var l=(i[0]-j.offsetWidth)/2;var k=(i[1]-j.offsetHeight)/2;if(DISQUS.browser.ie6){k=DISQUS.window.getScrollPosition()[1]}j.style.left=l+"px";j.style.top=k+"px";return true};a.close=function(m,n){var k=h.element;var l="dsq-avatar-"+h.id;var j;if(!k){return}if(n||!f(m,k.id)){if(d){DISQUS.events.remove(document,"mouseup",d);d=null}j=DISQUS.nodes.get("#dsq-overlay");if(j){DISQUS.nodes.remove(j)}try{DISQUS.nodes.remove(k)}catch(i){k.parentNode.removeChild(k)}if(b){b()}h={}}if(!n&&f(m,l)){h.linkClicked=true}};a.rawModal=function(i,k){a.close(null,true);var j=document.createElement("div");j.id="dsq-popup-message";j.innerHTML=i;g(j,undefined,"message","dsq-popup-raw",{});b=k;DISQUS.events.add(document,"mouseup",a.close);return j};a.popModal=function(q,p,j,l,k,o){if(typeof o==="undefined"){o={}}var i=document.createElement("div");var m;var n;p=p||"";l=l||true;i.id="dsq-popup-message";b=o.onClose;if(j){i.id+="-"+j}a.close(null,true);i.innerHTML=DISQUS.renderBlock("popup",{popupHeader:p,popupBody:q,popupClass:""});g(i,j,"message",k,o);if(l){d=DISQUS.events.add(document,"mouseup",a.close)}return i};a.popProfile=function(i,n,m){var k=DISQUS.jsonData.posts[i];if(k){if(k.has_been_anonymized){DISQUS.popup.popModal(DISQUS.strings.get("This message was anonymized by its previous owner"),DISQUS.strings.get("Anonymized"),i);return}n=DISQUS.jsonData.posts[i].user_key}var j=DISQUS.jsonData.users[n];var o={username:n,anonymous:!j.registered,isModerator:m};var l=new DISQUS.ui.ProfileModal();l.show(o);return false};return a}());DISQUS.window=(function(){var a={};a.getSize=function(){var c=-1;var b=-1;if(typeof window.innerWidth=="number"){c=window.innerWidth;b=window.innerHeight}else{if(document.documentElement){c=document.documentElement.clientWidth||document.body.clientWidth;b=document.documentElement.clientHeight||document.body.clientHeight}}return[c,b]};a.getScrollPosition=function(){var b,c;if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollWidth)){c=document.documentElement.scrollTop||document.body.scrollTop}else{if(document.body.scrollTop&&document.body.scrollWidth){b=document.body.scrollWidth;c=document.body.scrollTop}}return[b,c]};a.anchor=function(b){window.location.href=window.location.href.replace(/(\#.*|$)/,"#"+b)};return a}());DISQUS.hacks=(function(){var a={};a.ie={fixIframes:function(f){var b=DISQUS.nodes.get("#"+DISQUS.config.container_id);var e=b.getElementsByTagName("iframe");var c=(f?DISQUS.nodes.get("#"+f):DISQUS.nodes.container);if(c){for(var d=0;d<e.length;d++){e[d].style.width=c.offsetWidth}}}};return a}());DISQUS.db=(function(){var b={};function a(){var d=localStorage.getItem("disqus_embed");return d?JSON.parse(d):{}}function c(d){try{localStorage.setItem("disqus_embed",JSON.stringify(d))}catch(f){}}b.available=function(){try{return !!(typeof window.JSON==="object"&&window.localStorage)}catch(d){return false}};b.set=function(d,f){if(!b.available()){return false}var e=a();e[d]=f;c(e);return true};b.get=function(d){if(!b.available()){return null}var e=a();return e[d]};return b}());DISQUS.modules.utils=true;var DISQUS;if(typeof DISQUS=="undefined"){throw"Can't find DISQUS"}(function(c){var d=function(f,e){e=c.lang.extend({},d.defaults,e===undefined?{}:e);this.element=f;this.options=e;this.content=null;this.returnTo=null;this.enabled=true;this.init()};function b(f){if(f.title){f.setAttribute("original-title",f.title);f.removeAttribute("title")}}d.prototype={init:function(){var f=this;var i=this.element;var g=this.options;if(g.trigger==="click"){var e;var j;var h=function(){f.enter();c.events.remove(i,"click",e);setTimeout(function(){j=c.events.add(document,"click",k)},0)};e=c.events.add(i,"click",h);var k=function(m){m=m||window.event;var l=m.target||m.srcElement;if(!c.nodes.closest(l,".dsq-tooltip-outer")){f.hide();c.events.remove(document,"click",j);e=c.events.add(i,"click",h)}}}else{if(g.trigger){c.events.add(i,"mouseout",function(){f.leave()});c.events.add(i,"mouseover",function(){f.enter()})}}},show:function(){var k=this.getTitle();if(k&&this.enabled){var f=this.outer();var g=c.nodes.get(".dsq-tooltip-inner",f)[0];var j;if(this.options.contentId){j="big";this.content=c.nodes.get("#"+this.options.contentId);this.returnTo=this.content.parentNode;g.appendChild(this.content);this.content.style.display="block"}else{j="small";g.childNodes[0][this.options.html?"innerHTML":(typeof g.innerText!=="string"?"textContent":"innerText")]=k}f.className="";c.nodes.addClass(f,"dsq-tooltip-outer");c.nodes.addClass(f,"dsq-tooltip-"+j);f.style.visibility="hidden";f.style.top="0";f.style.left="0";f.style.display="block";var i=document.getElementsByTagName("body")[0];i.appendChild(f);var n=c.nodes.getPosition(this.element);pos={left:n[0],top:n[1]};pos=c.lang.extend({},pos,{width:this.element.offsetWidth,height:this.element.offsetHeight});var e=g.offsetWidth,h=g.offsetHeight;var m=(typeof this.options.gravity=="function")?this.options.gravity.call(this.element):this.options.gravity;var l=c.nodes.get(".dsq-tooltip-notch",f)[0];if(this.options.noclip){if((m=="s"||m=="n")&&(pos.left+pos.width/2-e/2)<0){m="w"}}l.style.height=null;l.style.width=null;if(c.browser.ie6){l.style.display="none"}switch(m){case"n":c.nodes.addClass(f,"dsq-tooltip-north");f.style.top=pos.top+pos.height+"px";f.style.left=(pos.left+pos.width/2-e/2)+"px";l.style.width=e+"px";l.style.backgroundPosition="top center";break;case"s":c.nodes.addClass(f,"dsq-tooltip-south");f.style.top=pos.top-h+"px";f.style.left=(pos.left+pos.width/2-e/2)+"px";l.style.top=h+"px";l.style.width=e+"px";l.style.backgroundPosition="bottom center";break;case"e":c.nodes.addClass(f,"dsq-tooltip-east");f.style.top=(pos.top+pos.height/2-h/2)+"px";f.style.left=pos.left-e+"px";l.style.height=h+"px";l.style.backgroundPosition="right center";break;case"w":c.nodes.addClass(f,"dsq-tooltip-west");f.style.top=(pos.top+pos.height/2-h/2)+"px";f.style.left=pos.left+pos.width+"px";l.style.height=h+"px";l.style.backgroundPosition="left center";break}if(this.options.fade){}else{f.style.visibility="visible";f.style.opacity=this.options.opacity}}},hide:function(){if(this.options.fade){}else{if(this.content){this.content.style.display="none";this.returnTo.appendChild(this.content)}this.outer().style.visibility="hidden"}},getTitle:function(){var h,f=this.element,g=this.options;b(f);if(typeof g.title=="string"){h=f.getAttribute(g.title=="title"?"original-title":g.title)}else{if(typeof g.title=="function"){h=g.title.call(f)}}h=(""+h).replace(/(^\s*|\s*$)/,"");return h||g.fallback},outer:function(){if(!this._outer){this._outer=document.createElement("div");var e=this._outer;e.className="dsq-tooltip";e.style.position="absolute";e.style.zIndex="9999";e.innerHTML='<div class="dsq-tooltip-notch"></div><div class="dsq-tooltip-inner"><span></span></div>'}return this._outer},validate:function(){if(!this.$element[0].parentNode){this.hide()}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},leave:function(){if(this.hoverState==="out"){return}this.hoverState="out";if(this.options.delayOut===0){this.hide()}else{setTimeout(function(){if(this.hoverState=="out"){this.hide()}},this.options.delayOut)}},enter:function(){if(this.hoverState==="in"){return}this.hoverState="in";if(this.options.delayIn===0){this.show()}else{setTimeout(function(){if(this.hoverState=="in"){this.show()}},this.options.delayIn)}}};d.defaults={delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,opacity:0.8,title:"title",trigger:"hover",contentId:null,noclip:false};var a=function(f,e){c.Tooltip.call(this,f,e)};a.prototype=c.lang.extend({},d.prototype);a.prototype.show=function(){var e=this;c.Tooltip.prototype.show.call(this);var f=function(h){h=h||window.event;var g=h.target||h.srcElement;if(!c.nodes.closest(g,".dsq-tooltip-outer")){e.hide();c.events.remove(document,"click",documentListener)}};documentListener=c.events.add(document,"click",f)};c.Tooltip=d;c.ManualTooltip=a})(DISQUS);DISQUS.modules.tooltip=true;DISQUS.blocks.profileEdit=function block_profileEdit($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("\x3Cdiv class\x3D\x22dsq\x2Dtabbed\x2Dmodal\x22 id\x3D\x22dsq\x2Dprofile\x2Dmodal\x22\x3E  \x3Cul class\x3D\x22dsq\x2Dmodal\x2Dtabs\x22\x3E    ");if(typeof request!=="undefined"&&request.has_unmerged_users){$html.put("    \x3Cli id\x3D\x22dsq\x2Dtab\x2Dprofile\x2Dmerge\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dprofile\x2Dmerge\x22\x3E\x3Cspan\x3E\x3C/span\x3EMerging\x3C/a\x3E\x3C/li\x3E    ")}$html.put("    \x3Cli id\x3D\x22dsq\x2Dtab\x2Dprofile\x2Dedit\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dprofile\x2Dedit\x22\x3E\x3Cspan\x3E\x3C/span\x3EProfile\x3C/a\x3E\x3C/li\x3E    \x3Cli id\x3D\x22dsq\x2Dtab\x2Dprofile\x2Davatar\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dprofile\x2Davatar\x22\x3E\x3Cspan\x3E\x3C/span\x3EAvatar\x3C/a\x3E\x3C/li\x3E    \x3Cli id\x3D\x22dsq\x2Dtab\x2Dprofile\x2Dservices\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dprofile\x2Dservices\x22\x3E\x3Cspan\x3E\x3C/span\x3EServices\x3C/a\x3E\x3C/li\x3E    \x3Cli id\x3D\x22dsq\x2Dtab\x2Dprofile\x2Dnotifications\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dprofile\x2Dnotifications\x22\x3E\x3Cspan\x3E\x3C/span\x3ENotifications\x3C/a\x3E\x3C/li\x3E    \x3Cli id\x3D\x22dsq\x2Dtab\x2Dprofile\x2Daccount\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dprofile\x2Daccount\x22\x3E\x3Cspan\x3E\x3C/span\x3EAccount\x3C/a\x3E\x3C/li\x3E  \x3C/ul\x3E  \x3Cdiv class\x3D\x22dsq\x2Dtab\x2Dcontainer\x22 style\x3D\x22height:90%\x22\x3E      ");if(typeof request!=="undefined"&&request.has_unmerged_users){$html.put("      \x3Cdiv id\x3D\x22dsq\x2Dprofile\x2Dmerge\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent\x22\x3E\x3C/div\x3E      ")}$html.put("      \x3Cdiv id\x3D\x22dsq\x2Dprofile\x2Dedit\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22\x3E\x3C/div\x3E      \x3Cdiv id\x3D\x22dsq\x2Dprofile\x2Davatar\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22\x3E\x3C/div\x3E      \x3Cdiv id\x3D\x22dsq\x2Dprofile\x2Dservices\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22\x3E\x3C/div\x3E      \x3Cdiv id\x3D\x22dsq\x2Dprofile\x2Dnotifications\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22\x3E\x3C/div\x3E      \x3Cdiv id\x3D\x22dsq\x2Dprofile\x2Daccount\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22\x3E\x3C/div\x3E  \x3C/div\x3E\x3C/div\x3E");return $html.compile()};DISQUS.blocks.moderatorActionsPopup=function block_moderatorActionsPopup($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("\x3Cdiv class\x3D\x22dsq\x2Dmoderate\x2Doptions\x22\x3E  \x3Ctable\x3E    \x3Ctr\x3E      \x3Ctd\x3E");$html.put(trans("Actions"));$html.put("\x3C/td\x3E      \x3Ctd\x3E        \x3Cul\x3E          \x3Cli\x3E            \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27thread.toggleClosed\x27)\x3B\x22\x3E");if(thread.closed){$html.put(trans("Open thread"))}else{$html.put(trans("Close thread"))}$html.put("\x3C/a\x3E          \x3C/li\x3E        \x3C/ul\x3E      \x3C/td\x3E    \x3C/tr\x3E  \x3C/table\x3E\x3C/div\x3E\x3Cp\x3EGo to the full \x3Ca href\x3D\x22");$html.put(settings.disqus_url);$html.put("/comments/moderate\x2Dthreads/");$html.put(forum.url);$html.put("\x22 target\x3D\x22_blank\x22\x3Emoderate panel\x3C/a\x3E for more options.\x3C/p\x3E");return $html.compile()};DISQUS.blocks.commentMessage=function block_commentMessage($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("\x3Cdiv class\x3D\x22");$html.put(cls);$html.put("\x22 id\x3D\x22dsq\x2Dcomment\x2Dmessage\x2D");$html.put(comment.id);$html.put("\x22\x3E    ");if(comment.killed){$html.put("        \x3Cem\x3E");$html.put(trans("Comment removed."));$html.put("\x3C/em\x3E    ")}else{if(!comment.approved){$html.put("        \x3Cem\x3E");$html.put(trans("This comment was flagged for review."));$html.put("\x3C/em\x3E    ")}else{$html.put("        ");$html.put(comment.message);$html.put("        ");if(comment.last_modified_by=="moderator"){$html.put("            \x3Cp class\x3D\x22dsq\x2Deditedtxt\x22\x3E(");$html.put(trans("Edited by a moderator"));$html.put(")\x3C/p\x3E        ")}else{if(comment.last_modified_by=="author"&&comment.has_replies){$html.put("            \x3Cp class\x3D\x22dsq\x2Deditedtxt\x22\x3E(");$html.put(trans("Edited by author"));$html.put(" ");$html.put(comment.last_modified_date);$html.put(")\x3C/p\x3E        ")}}$html.put("    ")}}$html.put("\x3C/div\x3E");return $html.compile()};DISQUS.blocks.popup=function block_popup($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("\x3Cdiv class\x3D\x22dsq\x2Dpopup\x2Dcontainer\x22\x3E  \x3Ctable\x3E    \x3Ctbody\x3E      \x3Ctr\x3E        \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Dtl\x22\x3E\x3C/td\x3E        \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Db\x22\x3E\x3C/td\x3E        \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Dtr\x22\x3E\x3C/td\x3E      \x3C/tr\x3E      \x3Ctr\x3E        \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Db\x22\x3E\x3C/td\x3E        \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Dbody\x22\x3E          \x3Cdiv class\x3D\x22dsq\x2Dpopup\x2Dcontent\x22\x3E            \x3Cdiv class\x3D\x22dsq\x2Dpopup\x2Dtitle\x22\x3E              \x3Cbutton type\x3D\x22button\x22 class\x3D\x22dsq\x2Dbutton\x2Dsmall\x22 style\x3D\x22float:right\x3B color: #fff\x22                      onclick\x3D\x22DISQUS.popup.close(null, true)\x3B\x22\x3E");$html.put(trans("Close"));$html.put("\x3C/button\x3E              \x3Ch3\x3E");$html.put(popupHeader);$html.put("\x3C/h3\x3E            \x3C/div\x3E            ");$html.put(popupBody);$html.put("          \x3C/div\x3E          \x3Cdiv class\x3D\x22powered\x2Dby\x22\x3E            \x3Ca href\x3D\x22");$html.put(settings.disqus_url);$html.put("/comments/\x22\x3E              \x3Cimg src\x3D\x22");$html.put(settings.media_url);$html.put("/images/embed/disqus\x2Dlogo.png\x22 alt\x3D\x22Disqus Comments\x22 style\x3D\x22margin\x2Dbottom:\x2D5px\x3B\x22/\x3E            \x3C/a\x3E          \x3C/div\x3E        \x3C/td\x3E        \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Db\x22\x3E\x3C/td\x3E      \x3C/tr\x3E      \x3Ctr\x3E        \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Dbl\x22\x3E\x3C/td\x3E        \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Db\x22\x3E\x3C/td\x3E        \x3Ctd class\x3D\x22dsq\x2Dpopup\x2Dbr\x22\x3E\x3C/td\x3E      \x3C/tr\x3E    \x3C/tbody\x3E  \x3C/table\x3E\x3C/div\x3E");return $html.compile()};DISQUS.blocks.recaptcha=function block_recaptcha($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("\x3Cdiv id\x3D\x22dsq\x2Dcaptcha\x22\x3E    \x3Cdiv id\x3D\x22dsq\x2Dcaptcha\x2Dloading\x22\x3E        ");$html.put("        \x3Cimg src\x3D\x22");$html.put(settings.media_url);$html.put("/images/loading.gif\x22/\x3E    \x3C/div\x3E    \x3Cdiv id\x3D\x22dsq\x2Dcaptcha\x2Dcontainer\x22 style\x3D\x22display:none\x22\x3E        \x3Cp\x3E");$html.put(trans("Please type in the following words to finish posting."));$html.put("\x3C/p\x3E        ");$html.put("        \x3Cdiv id\x3D\x22dsq\x2Dcaptcha\x2Dform\x22\x3E\x3C/div\x3E        \x3Cbutton type\x3D\x22button\x22 class\x3D\x22dsq\x2Dbutton\x22\x3E");$html.put(trans("Continue"));$html.put("\x3C/button\x3E    \x3C/div\x3E\x3C/div\x3E");return $html.compile()};DISQUS.blocks.postSharingOptions=function block_postSharingOptions($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}if(request.is_authenticated){$html.put("\x3Cdiv class\x3D\x22dsq\x2Dsharing\x2Doptions dsq\x2Dtt\x22");if(!request.display_sharing_options){$html.put("style\x3D\x22display:none\x3B\x22")}$html.put("title\x3D\x22");$html.put(trans("Toggle to share your comment"));$html.put("\x22\x3E");if(request.sharing.twitter.enabled||request.sharing.facebook.enabled){$html.put("\x3Cspan class\x3D\x22dsq\x2Dsharing\x2Doptions\x2Dlabel\x22\x3E");$html.put(trans("Share on"));$html.put("\x3C/span\x3E");if(request.sharing.twitter.enabled){$html.put("\x3Cbutton type\x3D\x22button\x22 class\x3D\x22dsq\x2Dshare\x2Dtoggle\x22 id\x3D\x22dsq\x2Dshare\x2Dtwitter\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27share.toggle\x27, this, \x27twitter\x27");if(comment){$html.put(",");$html.put(comment.id)}$html.put(")\x3B\x22\x3E\x3Cspan class\x3D\x22dsq\x2Dshare\x2Dicon\x22\x3E\x3C/span\x3E\x3Cspan class\x3D\x22dsq\x2Dshare\x2Dstatus\x22\x3E\x3C/span\x3E\x3C/button\x3E")}if(request.sharing.facebook.enabled){$html.put("\x3Cbutton type\x3D\x22button\x22 class\x3D\x22dsq\x2Dshare\x2Dtoggle\x22 id\x3D\x22dsq\x2Dshare\x2Dfacebook\x22onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27share.toggle\x27, this, \x27facebook\x27");if(comment){$html.put(",");$html.put(comment.id)}$html.put(")\x3B\x22\x3E\x3Cspan class\x3D\x22dsq\x2Dshare\x2Dicon\x22\x3E\x3C/span\x3E\x3Cspan class\x3D\x22dsq\x2Dshare\x2Dstatus\x22\x3E\x3C/span\x3E\x3C/button\x3E")}$html.put("\x3Cinput style\x3D\x22display: none\x22 type\x3D\x22checkbox\x22 id\x3D\x22dsq\x2Dsharing\x2Dtwitter");if(comment){$html.put("\x2D");$html.put(comment.id)}$html.put("\x22 /\x3E  \x3Cinput style\x3D\x22display: none\x22 type\x3D\x22checkbox\x22 id\x3D\x22dsq\x2Dsharing\x2Dfacebook");if(comment){$html.put("\x2D");$html.put(comment.id)}$html.put("\x22 /\x3E")}$html.put("\x3C/div\x3E")}return $html.compile()};DISQUS.blocks.unapprovedCommentMessage=function block_unapprovedCommentMessage($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("    ");if(mustVerify){$html.put("    ");$html.put(trans("You must finish verifying your Disqus Profile email address in order for your comment to appear here."));$html.put("\x3Cbr/\x3E\x3Cbr/\x3E    \x3Ca href\x3D\x22");$html.put(urls.verify_email);$html.put("\x22\x3E");$html.put(trans("Click here to verify your email address"));$html.put("\x3C/a\x3E    ")}else{$html.put("    ");$html.put(trans("Your comment must be approved by a moderator before appearing here."));$html.put("    ")}return $html.compile()};DISQUS.blocks.pageInfo=function block_pageInfo($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}if(request.is_global_moderator){$html.put("  \x3Cdiv class\x3D\x22dsq\x2Dglobal\x2Dmoderator\x2Dextras\x22       style\x3D\x22display: block\x3B margin\x2Dtop: 10px\x3B\x22\x3E    \x3Cstrong\x3EShortname:\x3C/strong\x3E ");$html.put(forum.url);$html.put("    \x3Cstrong\x3EThread ID:\x3C/strong\x3E ");$html.put(thread.id);$html.put("    \x3Cstrong\x3EThread slug:\x3C/strong\x3E ");$html.put(thread.slug);$html.put("    \x3Cstrong\x3ESwitches:\x3C/strong\x3E ");if(context.active_switches){lang.forEach(context.active_switches,function(sw,$index,$collection){var $locals={sw:sw,index:$index};$html.put(" ");$html.put(sw);$html.put(", ")})}else{$html.put("\x3Cem\x3Enone\x3C/em\x3E")}$html.put("  \x3C/div\x3E")}return $html.compile()};DISQUS.blocks.subscribeForm=function block_subscribeForm($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("\x3Cdiv class\x3D\x22dsq\x2Dsubscribe\x2Dsubmit\x22\x3E  \x3Cp\x3E\x3Cstrong\x3E");$html.put(trans("Enter your email address below:"));$html.put("\x3C/strong\x3E\x3C/p\x3E  \x3Cinput type\x3D\x22text\x22 id\x3D\x22dsq\x2Dsubscribe\x2Demail\x22/\x3E  \x3Cbutton type\x3D\x22button\x22          onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27thread.subscribe\x27, DISQUS.nodes.get(\x27#dsq\x2Dsubscribe\x2Demail\x27).value)\x3B\x22\x3E    ");$html.put(trans("Subscribe"));$html.put("  \x3C/button\x3E\x3C/div\x3E");return $html.compile()};DISQUS.blocks.popupProfileBody=function block_popupProfileBody($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("\x3Cdiv class\x3D\x22dsq\x2Dpopup\x2Dprofile\x2Dstate\x22\x3E  ");$html.put(trans("This is a"));$html.put("  ");if(user.registered){$html.put("    ");if(user.verified){$html.put("      \x3Cspan class\x3D\x22dsq\x2Dbadge\x2Dverified\x22\x3E");$html.put(trans("Verified"));$html.put("\x3C/span\x3E    ")}else{if(user.is_remote){$html.put("      \x3Cspan class\x3D\x22dsq\x2Dbadge\x2D");$html.put(user.remote_domain_name.toLowerCase());$html.put("\x22\x3E");$html.put(user.remote_domain_name);$html.put("\x3C/span\x3E    ")}else{$html.put("      \x3Cspan class\x3D\x22dsq\x2Dbadge\x2Dregistered\x22\x3E");$html.put(trans("Registered"));$html.put("\x3C/span\x3E    ")}}$html.put("  ")}else{$html.put("      \x3Cspan class\x3D\x22dsq\x2Dbadge\x2Dguest\x22\x3E");$html.put(trans("Guest"));$html.put("\x3C/span\x3E  ")}$html.put("  ");$html.put(trans("commenter profile"));$html.put(".  \x3Ca class\x3D\x22dsq\x2Dprofile\x2Duserurl\x22 href\x3D\x22");$html.put(user.url);$html.put("\x22\x3E    \x3Cstrong\x3E");$html.put(trans("View more comments"));$html.put("\x3C/strong\x3E  \x3C/a\x3E  ");if(!user.points){$html.put("  \x3Cp class\x3D\x22dsq\x2Dpopup\x2Dnotice\x22\x3E    ");$html.put(lang.interpolate(trans("If this is you, \x3Ca href\x3D\x27%(url)s/profile/\x27 target\x3D\x27_blank\x27\x3Eclaim it now\x3C/a\x3E to manage your comments."),{url:settings.disqus_url}));$html.put("  \x3C/p\x3E  ")}$html.put("  ");if(user.registered&&!user.verified&&(request.username&&(request.username==user.username))&&!user.is_remote){$html.put("  \x3Cp class\x3D\x22dsq\x2Dpopup\x2Dnotice\x22\x3E    \x3Cstrong\x3E");$html.put(trans("Alert"));$html.put("\x3C/strong\x3E: ");$html.put(trans("You have not verified this account."));$html.put("    \x3Ca href\x3D\x22");$html.put(settings.disqus_url);$html.put("/verify\x22\x3E");$html.put(trans("Verify it now."));$html.put("\x3C/a\x3E  \x3C/p\x3E  ")}$html.put("\x3C/div\x3E\x3Cdiv id\x3D\x22dsq\x2Dprofile\x2Dstatus\x2D");$html.put(userKey);$html.put("\x22 class\x3D\x22dsq\x2Dpopup\x2Dprofile\x2Dstatus\x22 style\x3D\x22display:none\x3B\x22\x3E\x3C/div\x3E\x3Cdiv class\x3D\x22dsq\x2Dpopup\x2Dprofile\x2Dsnapshot\x22\x3E  \x3Ctable\x3E    \x3Ctr\x3E      \x3Ctd\x3E        \x3Cdiv id\x3D\x22dsq\x2Dpopup\x2Dprofile\x2Dactive\x2Dsites\x2Dwrapper\x2D");$html.put(userKey);$html.put("\x22\x3E          \x3Ch4\x3E");$html.put(trans("Most active sites"));$html.put("\x3C/h4\x3E          \x3Cul id\x3D\x22dsq\x2Dpopup\x2Dprofile\x2Dactive\x2Dsites\x2D");$html.put(userKey);$html.put("\x22\x3E            \x3Cli\x3E");$html.put(trans("Loading..."));$html.put("\x3C/li\x3E          \x3C/ul\x3E        \x3C/div\x3E      \x3C/td\x3E      \x3Ctd\x3E        \x3Ch4\x3E");$html.put(trans("Connections"));$html.put("\x3C/h4\x3E        \x3Cul\x3E          ");lang.forEach(services,function(service,$index,$collection){var $locals={service:service,index:$index};$html.put("          \x3Cli\x3E            \x3Cimg src\x3D\x22");$html.put(settings.media_url);$html.put("/images/embed/services/");$html.put(service.name);$html.put(".png\x22                 title\x3D\x22service.name\x22/\x3E            \x3Ca class\x3D\x22dsq\x2Dservice\x2D");$html.put(service.name);$html.put("\x22 href\x3D\x22");$html.put(service.url);$html.put("\x22 target\x3D\x22_blank\x22\x3E              ");$html.put(service.display_name);$html.put("            \x3C/a\x3E          \x3C/li\x3E          ")});$html.put("        \x3C/ul\x3E        \x3Cdiv id\x3D\x22dsq\x2Dpopup\x2Dprofile\x2Dmoderated\x2Dwrapper\x2D");$html.put(userKey);$html.put("\x22\x3E          \x3Ch4\x3E");$html.put(trans("Moderator of"));$html.put("\x3C/h4\x3E          \x3Cul id\x3D\x22dsq\x2Dpopup\x2Dprofile\x2Dmoderated\x2D");$html.put(userKey);$html.put("\x22\x3E            \x3Cli\x3E");$html.put(trans("Loading..."));$html.put("\x3C/li\x3E          \x3C/ul\x3E        \x3C/div\x3E      \x3C/td\x3E    \x3C/tr\x3E  \x3C/table\x3E\x3C/div\x3E");return $html.compile()};DISQUS.blocks.comments=function block_comments($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("    ");lang.forEach(comments,function(comment,$index,$collection){var $locals={comment:comment,index:$index};$html.put("        ");(function(){var $l={};lang.extend($l,$locals);lang.extend($l,{});$html.put($render("comment",$l))}());$html.put("    ")});return $html.compile()};DISQUS.blocks.moderateOptionsPopup=function block_moderateOptionsPopup($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("\x3Cdiv class\x3D\x22dsq\x2Dmoderate\x2Doptions\x22\x3E  \x3Ctable\x3E    ");if(comment.email){$html.put("    \x3Ctr\x3E      \x3Ctd\x3EEmail\x3C/td\x3E      \x3Ctd\x3E");$html.put(comment.email);$html.put("\x3C/td\x3E    \x3C/tr\x3E    ")}$html.put("    ");if(comment.ip){$html.put("    \x3Ctr\x3E      \x3Ctd\x3EIP address\x3C/td\x3E      \x3Ctd\x3E");$html.put(comment.ip);$html.put("\x3C/td\x3E    \x3C/tr\x3E    ")}$html.put("    \x3Ctr\x3E      \x3Ctd\x3EActions\x3C/td\x3E      \x3Ctd\x3E        \x3Cul\x3E          ");if(request.moderator_can_edit){$html.put("          \x3Cli\x3E            \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27comments.edit.show\x27, ");$html.put(comment.id);$html.put(")\x3B\x22\x3E");$html.put(trans("Edit Comment"));$html.put("\x3C/a\x3E          \x3C/li\x3E          ")}$html.put("          \x3Cli\x3E            \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27comments.delete\x27, ");$html.put(comment.id);$html.put(")\x3B\x22\x3E");$html.put(trans("Delete Comment"));$html.put("\x3C/a\x3E          \x3C/li\x3E          \x3Cli\x3E            \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27comments.spam\x27, ");$html.put(comment.id);$html.put(")\x3B\x22\x3E");$html.put(trans("Mark Spam"));$html.put("\x3C/a\x3E          \x3C/li\x3E          \x3Cli\x3E            \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27comments.blacklist\x27, ");$html.put(comment.id);$html.put(")\x3B\x22\x3E");$html.put(trans("Block User"));$html.put("\x3C/a\x3E          \x3C/li\x3E        \x3C/ul\x3E      \x3C/td\x3E    \x3C/tr\x3E  \x3C/table\x3E\x3C/div\x3E\x3Cp\x3EGo to the full \x3Ca href\x3D\x22");$html.put(settings.disqus_url);$html.put("/comments/moderate/");$html.put(forum.url);$html.put("\x22 target\x3D\x22_blank\x22\x3Emoderate panel\x3C/a\x3E for more options.\x3C/p\x3E");return $html.compile()};DISQUS.blocks.popupProfileHeader=function block_popupProfileHeader($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("\x3Ctable\x3E  \x3Ctr\x3E    \x3Ctd\x3E      \x3Ca class\x3D\x22dsq\x2Dprofile\x2Duserurl\x22 href\x3D\x22");$html.put(user.url);$html.put("\x22\x3E        \x3Cimg class\x3D\x22dsq\x2Dpopup\x2Dprofile\x2Davatar\x22 src\x3D\x22");$html.put(user.avatar);$html.put("\x22 alt\x3D\x22\x22 /\x3E      \x3C/a\x3E    \x3C/td\x3E    \x3Ctd\x3E      \x3Cdiv class\x3D\x22dsq\x2Dpopup\x2Dprofile\x2Duser\x22\x3E        \x3Ch3\x3E");$html.put(user.display_name);$html.put("\x3C/h3\x3E        \x3Cdiv class\x3D\x22dsq\x2Dpopup\x2Dprofile\x2Duser\x2Dstats\x22 id\x3D\x22dsq\x2Dpopup\x2Dprofile\x2Duser\x2Dstats\x2D");$html.put(userKey);$html.put("\x22\x3E          Loading...        \x3C/div\x3E    \x3C/td\x3E  \x3C/tr\x3E\x3C/table\x3E");return $html.compile()};DISQUS.blocks.reportConfirmation=function block_reportConfirmation($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("\x3Cbr/\x3E\x3Cbutton type\x3D\x22button\x22 onclick\x3D\x22DISQUS.popup.close(null, true)\x3B\x22\x3E  \x3Cstrong\x3E");$html.put(trans("No"));$html.put("\x3C/strong\x3E, ");$html.put(trans("Never mind"));$html.put("\x3C/button\x3E\x26nbsp\x3B\x26nbsp\x3B\x26nbsp\x3B\x3Cbutton type\x3D\x22button\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27comments.report\x27, ");$html.put(id);$html.put(", true)\x3B\x22\x3E  \x3Cstrong\x3E");$html.put(trans("Yes"));$html.put("\x3C/strong\x3E, ");$html.put(trans("Flag inappropriate comment"));$html.put("\x3C/button\x3E\x3Cbr/\x3E\x3Cbr/\x3E");$html.put(trans("This will flag comments for moderators to take action."));return $html.compile()};DISQUS.blocks.threadSettingsPopup=function block_threadSettingsPopup($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("\x3Cdiv class\x3D\x22dsq\x2Dmoderate\x2Doptions\x22\x3E  \x3Cspan id\x3D\x22dsq\x2Dthread\x2Dsettings\x2Dstatus\x22 class\x3D\x22dsq\x2Doptions\x2Dstatus\x22\x3E\x3C/span\x3E  \x3Cp\x3EThese settings only apply to this thread. To change settings site\x2Dwide,   visit the main \x3Ca href\x3D\x22");$html.put(settings.disqus_url);$html.put("/comments/settings/");$html.put(forum.url);$html.put("\x22 target\x3D\x22_blank\x22\x3Esettings page\x3C/a\x3E.\x3C/p\x3E  \x3Ctable class\x3D\x22dsq\x2Dmoderator\x2Dsettings\x22\x3E    \x3Ctr\x3E      \x3Ctd\x3E        \x3Ch4\x3E");$html.put(trans("Close/Open thread for comments"));$html.put("\x3C/h4\x3E        \x3Cul\x3E          \x3Cli\x3E            \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27thread.toggleClosed\x27)\x3B\x22\x3E");if(thread.closed){$html.put(trans("Open thread"))}else{$html.put(trans("Close thread"))}$html.put("\x3C/a\x3E          \x3C/li\x3E        \x3C/ul\x3E      \x3C/td\x3E    \x3C/tr\x3E    \x3Ctr\x3E      \x3Ctd\x3E        \x3Ch4\x3E");$html.put(trans("Automatic Closing"));$html.put("\x3C/h4\x3E        \x3Cp\x3EDo not allow comments after        \x3Cinput size\x3D\x223\x22 id\x3D\x22dsq\x2Dthread\x2Ddays\x2Dalive\x22 value\x3D\x22");$html.put(thread.days_alive);$html.put("\x22               type\x3D\x22text\x22 /\x3E days.         Using 0 days will disable this feature.\x3C/p\x3E        \x3Cp class\x3D\x22dsq\x2Dform\x2Dactions\x22\x3E          \x3Cbutton type\x3D\x22button\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27thread.updateDaysAlive\x27)\x3B\x22 class\x3D\x22dsq\x2Dbutton\x2Dsmall\x22\x3E            \x3Cspan\x3E");$html.put(trans("Save"));$html.put("\x3C/span\x3E          \x3C/button\x3E        \x3C/p\x3E      \x3C/td\x3E    \x3C/tr\x3E    \x3Ctr\x3E      \x3Ctd");if(!forum.reactions_enabled){$html.put("class\x3D\x22last\x22")}$html.put("\x3E        \x3Ch4\x3E");$html.put(trans("Moderate all comments"));$html.put("\x3C/h4\x3E        \x3Cul class\x3D\x22dsq\x2Dmoderator\x2Dradios\x22\x3E          \x3Cli\x3E\x3Clabel\x3E\x3Cinput type\x3D\x22radio\x22 id\x3D\x22dsq\x2Dthread\x2Dmoderate\x2Dall\x22               name\x3D\x22moderate_all_comments\x22 value\x3D\x221\x22");if(thread.moderate_all){$html.put("checked\x3D\x22true\x22")}$html.put("/\x3E");$html.put(trans("\x3Cstrong\x3EYes\x3C/strong\x3E, moderators must approve all comments before they are published."));$html.put("\x3C/label\x3E\x3C/li\x3E          \x3Cli\x3E\x3Clabel\x3E\x3Cinput type\x3D\x22radio\x22 name\x3D\x22moderate_all_comments\x22 value\x3D\x220\x22");if(thread.moderate_none){$html.put("checked\x3D\x22true\x22")}$html.put("/\x3E");$html.put(trans("\x3Cstrong\x3ENo\x3C/strong\x3E, comments don\x27t need to be approved before they are published."));$html.put("\x3C/label\x3E\x3C/li\x3E          \x3Cli\x3E\x3Clabel\x3E\x3Cinput type\x3D\x22radio\x22 name\x3D\x22moderate_all_comments\x22 value\x3D\x222\x22");if(!thread.moderate_all&&!thread.moderate_none){$html.put("checked\x3D\x22true\x22")}$html.put("/\x3E");$html.put(trans("Use the my \x3Cstrong\x3Edefault\x3C/strong\x3E forum setting:"));$html.put("\x26nbsp\x3B");if(forum.moderate_all){$html.put(trans("moderate all comments"))}else{$html.put(trans("don\x27t require moderation"))}$html.put("\x3C/label\x3E\x3C/li\x3E        \x3C/ul\x3E        \x3Cp class\x3D\x22dsq\x2Dform\x2Dactions\x22\x3E          \x3Cbutton type\x3D\x22button\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27thread.updateModerateAll\x27)\x3B\x22 class\x3D\x22dsq\x2Dbutton\x2Dsmall\x22\x3E            \x3Cspan\x3E");$html.put(trans("Save"));$html.put("\x3C/span\x3E          \x3C/button\x3E        \x3C/p\x3E      \x3C/td\x3E    \x3C/tr\x3E");if(forum.reactions_enabled){$html.put("\x3Ctr\x3E      \x3Ctd class\x3D\x22last\x22\x3E        \x3Ch4\x3E");$html.put(trans("Manually scan reactions"));$html.put("\x3C/h4\x3E        \x3Cp\x3E");$html.put(trans("Are you expecting Reactions for this thread, but do not see them? Click here to tell the system to search again."));$html.put("\x3C/p\x3E        \x3Cp class\x3D\x22dsq\x2Dform\x2Dactions\x22\x3E          \x3Cbutton type\x3D\x22button\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27reactions.reportMissing\x27)\x3B\x22 class\x3D\x22dsq\x2Dbutton\x2Dsmall\x22\x3E            \x3Cspan\x3E");$html.put(trans("Scan"));$html.put("\x3C/span\x3E          \x3C/button\x3E        \x3C/p\x3E      \x3C/td\x3E    \x3C/tr\x3E")}$html.put("\x3C/table\x3E\x3C/div\x3E");return $html.compile()};DISQUS.blocks.moderatorOptions=function block_moderatorOptions($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("  ");if(request.is_moderator){$html.put("  \x3Cdiv id\x3D\x22dsq\x2Dthread\x2Dsettings\x22 class\x3D\x22dsq\x2Dthread\x2Dsettings\x22\x3E");$html.put(trans("Moderator options"));$html.put(":    \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27thread.settings\x27)\x3B\x22\x3E");$html.put(trans("Settings"));$html.put("\x3C/a\x3E    \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27thread.moderatorActions\x27)\x3B\x22\x3E");$html.put(trans("Moderate"));$html.put("\x3C/a\x3E    \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27thread.help\x27)\x3B\x22\x3E");$html.put(trans("Help"));$html.put("\x3C/a\x3E  \x3C/div\x3E  ")}return $html.compile()};DISQUS.blocks.openidForm=function block_openidForm($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("  \x3Cdiv class\x3D\x22dsq\x2Dauth\x2Dform\x22\x3E    \x3Cp\x3E      \x3Clabel for\x3D\x22dsq\x2Dopenid\x2Durl\x22\x3E");$html.put(trans("OpenID URL"));$html.put(":\x3C/label\x3E      \x3Cspan class\x3D\x22dsq\x2Dlogin\x2Dinput\x2Dwrapper\x22\x3E\x3Cinput type\x3D\x22text\x22 id\x3D\x22dsq\x2Dopenid\x2Durl\x22 value\x3D\x22http://\x22/\x3E\x3C/span\x3E    \x3C/p\x3E    \x3Cp\x3E      \x3Clabel for\x3D\x22dsq\x2Dopenid\x2Durl\x22\x3E");$html.put(trans("Display name"));$html.put(":\x3C/label\x3E      \x3Cspan class\x3D\x22dsq\x2Dlogin\x2Dinput\x2Dwrapper\x22\x3E\x3Cinput type\x3D\x22text\x22 id\x3D\x22dsq\x2Dopenid\x2Dusername\x22 value\x3D\x22");$html.put(trans("Your Name"));$html.put("\x22/\x3E\x3C/span\x3E    \x3C/p\x3E    \x3Cp\x3E\x3Cbutton class\x3D\x22dsq\x2Dbutton\x22 id\x3D\x22dsq\x2Dopenid\x2Dsubmit\x2Dbutton\x22\x3E");$html.put(trans("Sign in"));$html.put("\x3C/button\x3E\x3C/p\x3E  \x3C/div\x3E");return $html.compile()};DISQUS.blocks.blacklistPopup=function block_blacklistPopup($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put(trans("Adding this person to the blacklist will block him or her from commenting on this site. Check the following types that you would like to add to the blacklist"));$html.put(":");if(user.registered){$html.put("\x3Cdiv class\x3D\x22dsq\x2Dblacklist\x2Doption\x22\x3E  \x3Cinput id\x3D\x22dsq\x2Dblacklist\x2Dusername\x22 type\x3D\x22checkbox\x22 checked\x3D\x22true\x22/\x3E  \x3Clabel for\x3D\x22dsq\x2Dblacklist\x2Dusername\x22\x3E\x3Cstrong\x3E");$html.put(trans("Username"));$html.put("\x3C/strong\x3E: ");$html.put(user.username);$html.put("\x3C/label\x3E\x3C/div\x3E")}if(comment.email){$html.put("\x3Cdiv class\x3D\x22dsq\x2Dblacklist\x2Doption\x22\x3E  \x3Cinput id\x3D\x22dsq\x2Dblacklist\x2Demail\x22 type\x3D\x22checkbox\x22 checked\x3D\x22true\x22/\x3E  \x3Clabel for\x3D\x22dsq\x2Dblacklist\x2Demail\x22\x3E\x3Cstrong\x3E");$html.put(trans("Email address"));$html.put("\x3C/strong\x3E: ");$html.put(comment.email);$html.put("\x3C/label\x3E\x3C/div\x3E")}$html.put("\x3Cdiv class\x3D\x22dsq\x2Dblacklist\x2Doption\x22\x3E  \x3Cinput id\x3D\x22dsq\x2Dblacklist\x2Dip\x22 type\x3D\x22checkbox\x22 onclick\x3D\x22DISQUS.nodes.get(\x27#dsq\x2Dblacklist\x2Dip\x2Dwarning\x27).style.display\x3D\x27block\x27\x3B\x22/\x3E  \x3Clabel for\x3D\x22dsq\x2Dblacklist\x2Dip\x22\x3E\x3Cstrong\x3E");$html.put(trans("IP address"));$html.put("\x3C/strong\x3E: ");$html.put(comment.ip);$html.put("\x3C/label\x3E\x3C/div\x3E\x3Cp id\x3D\x22dsq\x2Dblacklist\x2Dip\x2Dwarning\x22 style\x3D\x22display:none\x22\x3E  ");$html.put(trans("Note: Blocking this person\x27s IP address may also unintentionally  prevent others, who share his/her IP address, from commenting on  this site. This may include people who are sharing the same  computer, living in the same house, or using the same Internet  provider. Only block an IP address as a last resort."));$html.put("\x3C/p\x3E\x3Cp style\x3D\x22text\x2Dalign:center\x22\x3E  \x3Cbutton type\x3D\x22button\x22 onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27comments.blacklist\x27, ");$html.put(comment.id);$html.put(", true)\x3B\x22\x3E    ");$html.put(trans("Add to Blacklist"));$html.put("  \x3C/button\x3E\x3C/p\x3E");return $html.compile()};DISQUS.blocks.moderatorHelpPopup=function block_moderatorHelpPopup($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("\x3Cul class\x3D\x22dsq\x2Dthread\x2Dhelp\x22\x3E  ");if(forum.reactions_enabled){$html.put("  \x3Cli\x3E    \x3Ca href\x3D\x22#\x22 onclick\x3D\x22return DISQUS.dtpl.actions.fire(\x27reactions.reportMissing\x27)\x3B\x22\x3E");$html.put(trans("Report missing reactions"));$html.put("\x3C/a\x3E    \x3Cp\x3E");$html.put(trans("Are you expecting Reactions for this thread, but do not see them? Select this option to tell the system to search again."));$html.put("\x3C/p\x3E  \x3C/li\x3E  ")}$html.put("  \x3Cli\x3E    \x3Ca href\x3D\x22http://help.disqus.com/forums/\x22 target\x3D\x22_blank\x22\x3E");$html.put(trans("Knowledge Base"));$html.put("\x3C/a\x3E    \x3Cp\x3E");$html.put(trans("Our Knowledge Base has the answers to the most common questions."));$html.put("\x3C/p\x3E  \x3C/li\x3E\x3C/ul\x3E");return $html.compile()};DISQUS.blocks.loginPopup=function block_loginPopup($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("  \x3Cdiv class\x3D\x22dsq\x2Dtabbed\x2Dmodal\x22\x3E    \x3Cul class\x3D\x22dsq\x2Dmodal\x2Dtabs\x22\x3E      \x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Dguest\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Dguest\x22 ");if(!forum.allow_anon_post){$html.put(" style\x3D\x22display: none\x22")}$html.put("\x3E\x3Cspan\x3E\x3C/span\x3EGuest\x3C/a\x3E\x3C/li\x3E      ");if(config.sso){$html.put("\x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Dsso\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Dsso\x22\x3E\x3Cspan\x3E\x3C/span\x3E");$html.put(config.sso.name);$html.put("\x3C/a\x3E\x3C/li\x3E")}$html.put("      ");if(!forum.disqus_auth_disabled){$html.put("      \x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Ddisqus\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Ddisqus\x22\x3E\x3Cspan\x3E\x3C/span\x3EDisqus\x3C/a\x3E\x3C/li\x3E      ")}$html.put("      ");if(context.forum_facebook_key){$html.put("      \x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Dfacebook\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Dfacebook\x22\x3E\x3Cspan\x3E\x3C/span\x3EFacebook\x3C/a\x3E\x3C/li\x3E      ")}$html.put("      \x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Dtwitter\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Dtwitter\x22\x3E\x3Cspan\x3E\x3C/span\x3ETwitter\x3C/a\x3E\x3C/li\x3E      \x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Dyahoo\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Dyahoo\x22\x3E\x3Cspan\x3E\x3C/span\x3EYahoo\x3C/a\x3E\x3C/li\x3E      \x3Cli id\x3D\x22dsq\x2Dlogin\x2Dtab\x2Dopenid\x22\x3E\x3Ca href\x3D\x22#dsq\x2Dlogin\x2Dopenid\x22\x3E\x3Cspan\x3E\x3C/span\x3EOpenId\x3C/a\x3E\x3C/li\x3E    \x3C/ul\x3E    \x3Cdiv class\x3D\x22dsq\x2Dtab\x2Dcontainer\x22\x3E      \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dguest\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22 style\x3D\x22display: none\x22\x3E        \x3Cp\x3E          \x3Clabel for\x3D\x22dsq\x2Dfield\x2Demail\x22 id\x3D\x22dsq\x2Dfield\x2Demail\x2Dlabel\x22\x3E");$html.put(trans("Your email"));$html.put("\x3C/label\x3E          \x3Cspan class\x3D\x22dsq\x2Dlogin\x2Dinput\x2Dwrapper\x22\x3E            \x3Cinput type\x3D\x22text\x22              value\x3D\x22");if(config.def_email){$html.put(config.def_email)}else{if(session.email){$html.put(session.email)}}$html.put("\x22 id\x3D\x22dsq\x2Dfield\x2Demail\x22/\x3E            \x3C/span\x3E        \x3C/p\x3E        \x3Cp\x3E          \x3Clabel for\x3D\x22dsq\x2Dfield\x2Dname\x22 id\x3D\x22dsq\x2Dfield\x2Dname\x2Dlabel\x22\x3E");$html.put(trans("Your name"));$html.put("\x3C/label\x3E          \x3Cspan class\x3D\x22dsq\x2Dlogin\x2Dinput\x2Dwrapper\x22\x3E            \x3Cinput type\x3D\x22text\x22              value\x3D\x22");if(config.def_name){$html.put(config.def_name)}else{if(session.name){$html.put(session.name)}else{$html.put(trans("Guest"))}}$html.put("\x22 id\x3D\x22dsq\x2Dfield\x2Dname\x22 /\x3E          \x3C/span\x3E        \x3C/p\x3E        \x3Cp\x3E          \x3Cspan class\x3D\x22dsq\x2Dlogin\x2Dadd\x2Durl\x22\x3E");$html.put(trans("Optional"));$html.put(": \x3Ca href\x3D\x22#\x22\x3E");$html.put(trans("Link to your website"));$html.put("\x3C/a\x3E\x3C/span\x3E        \x3C/p\x3E        \x3Cp style\x3D\x22display:none\x22 id\x3D\x22dsq\x2Doptional\x2Dfield\x2Dwebsite\x22\x3E          \x3Clabel for\x3D\x22dsq\x2Dfield\x2Dwebsite\x22 id\x3D\x22dsq\x2Dfield\x2Dwebsite\x2Dlabel\x22\x3E");$html.put(trans("Your website"));$html.put("\x3C/label\x3E          \x3Cspan class\x3D\x22dsq\x2Dlogin\x2Dinput\x2Dwrapper\x22\x3E\x3Cinput type\x3D\x22text\x22 value\x3D\x22");if(session.url){$html.put(session.url)}$html.put("\x22 id\x3D\x22dsq\x2Dfield\x2Dwebsite\x22 /\x3E\x3C/span\x3E        \x3C/p\x3E        \x3Cp class\x3D\x22dsq\x2Dlogin\x2Dsubscribe\x22\x3E          \x3Cspan\x3E            \x3Cinput id\x3D\x22dsq\x2Dsubscribe\x2Don\x2Dpost");if(comment){$html.put("\x2D");$html.put(comment.id)}$html.put("\x22 type\x3D\x22checkbox\x22              ");if(request.subscribe_on_post){$html.put("checked\x3D\x22true\x22")}$html.put("/\x3E          \x3C/span\x3E          \x3Clabel for\x3D\x22dsq\x2Dsubscribe\x2Don\x2Dpost");if(comment){$html.put("\x2D");$html.put(comment.id)}$html.put("\x22\x3E");$html.put(trans("Subscribe to all comments by email"));$html.put("\x3C/label\x3E        \x3C/p\x3E        \x3Cp\x3E          \x3Cbutton type\x3D\x22button\x22 id\x3D\x22dsq\x2Dsubmit\x2Dguest\x22 class\x3D\x22dsq\x2Dbutton\x22\x3E");$html.put(trans("Post comment"));$html.put("\x3C/button\x3E        \x3C/p\x3E      \x3C/div\x3E        ");$html.put("        ");if(typeof useLoginWindow!=="undefined"&&!useLoginWindow){$html.put("            \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Ddisqus\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22 style\x3D\x22display: none\x22\x3E              \x3C!\x2D\x2D disqus iframe gets inserted here dynamically \x2D\x2D\x3E            \x3C/div\x3E        ")}else{$html.put("        \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Ddisqus\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22 style\x3D\x22display: none\x22\x3E              \x3Cdiv class\x3D\x22dsq\x2Dconnect\x2Dmsg\x22\x3E                \x3Ch3\x3E");$html.put(trans("Post using your Disqus account"));$html.put("\x3C/h3\x3E                \x3Cp\x3E");$html.put(trans("Click the button below to continue."));$html.put("\x3C/p\x3E                \x3Cp\x3E\x3Cspan class\x3D\x22dsq\x2Ddisqus\x2Dconnect dsq\x2Dexternal\x2Dlauncher\x22\x3E\x3C/span\x3E\x3C/p\x3E              \x3C/div\x3E            \x3Cdiv class\x3D\x22dsq\x2Dremote\x2Dauthentication\x22 style\x3D\x22display:none\x22\x3E              \x3Cimg src\x3D\x22");$html.put(settings.media_url);$html.put("/images/dsq\x2Dloader.gif\x22 /\x3E              \x3Cp\x3E");$html.put(trans("Connecting to Disqus"));$html.put("\x3C/p\x3E            \x3C/div\x3E            \x3Cp\x3E\x3Csmall\x3E");$html.put(trans("You might need to disable your popup blocker to sign in."));$html.put("\x3C/small\x3E\x3C/p\x3E        \x3C/div\x3E        ")}$html.put("        ");if(context.forum_facebook_key){$html.put("        \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dfacebook\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22 style\x3D\x22display:none\x22\x3E            \x3Cdiv class\x3D\x22dsq\x2Dconnect\x2Dmsg\x22\x3E              \x3Ch3\x3E");$html.put(trans("Post using your Facebook account"));$html.put("\x3C/h3\x3E              \x3Cp\x3E");$html.put(trans("Click the button below to continue."));$html.put("\x3C/p\x3E              \x3Cp\x3E\x3Cspan class\x3D\x22dsq\x2Dfacebook\x2Dconnect dsq\x2Dexternal\x2Dlauncher\x22\x3E\x3C/span\x3E\x3C/p\x3E            \x3C/div\x3E          \x3Cdiv class\x3D\x22dsq\x2Dremote\x2Dauthentication\x22 style\x3D\x22display:none\x22\x3E            \x3Cimg src\x3D\x22");$html.put(settings.media_url);$html.put("/images/dsq\x2Dloader.gif\x22 /\x3E            \x3Cp\x3E");$html.put(trans("Connecting to Facebook"));$html.put("\x3C/p\x3E          \x3C/div\x3E          \x3Cp\x3E\x3Csmall\x3E");$html.put(trans("You might need to disable your popup blocker to sign in."));$html.put("\x3C/small\x3E\x3C/p\x3E        \x3C/div\x3E        ")}$html.put("        \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dtwitter\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22 style\x3D\x22display:none\x22\x3E          \x3Cdiv class\x3D\x22dsq\x2Dconnect\x2Dmsg\x22\x3E            \x3Ch3\x3E");$html.put(trans("Post using your Twitter account"));$html.put("\x3C/h3\x3E            \x3Cp\x3E");$html.put(trans("Click the button below to continue."));$html.put("\x3C/p\x3E            \x3Cp\x3E\x3Cspan class\x3D\x22dsq\x2Dtwitter\x2Dconnect dsq\x2Dexternal\x2Dlauncher\x22\x3E\x3C/span\x3E\x3C/p\x3E          \x3C/div\x3E          \x3Cdiv class\x3D\x22dsq\x2Dremote\x2Dauthentication\x22 style\x3D\x22display:none\x22\x3E            \x3Cimg src\x3D\x22");$html.put(settings.media_url);$html.put("/images/dsq\x2Dloader.gif\x22 /\x3E            \x3Cp\x3E");$html.put(trans("Connecting to Twitter"));$html.put("\x3C/p\x3E          \x3C/div\x3E          \x3Cp\x3E\x3Csmall\x3E");$html.put(trans("You might need to disable your popup blocker to sign in."));$html.put("\x3C/small\x3E\x3C/p\x3E        \x3C/div\x3E        \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dopenid\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent\x22 style\x3D\x22display:none\x22\x3E          ");(function(){var $l={};lang.extend($l,$locals);lang.extend($l,{});$html.put($render("openidForm",$l))}());$html.put("        \x3C/div\x3E        \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dyahoo\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22 style\x3D\x22display:none\x22\x3E          \x3Cdiv class\x3D\x22dsq\x2Dconnect\x2Dmsg\x22\x3E            \x3Ch3\x3E");$html.put(trans("Post using your Yahoo account"));$html.put("\x3C/h3\x3E            \x3Cp\x3E");$html.put(trans("Click the button below to continue."));$html.put("\x3C/p\x3E            \x3Cp\x3E\x3Cspan class\x3D\x22dsq\x2Dyahoo\x2Dconnect dsq\x2Dexternal\x2Dlauncher\x22\x3E\x3C/span\x3E\x3C/p\x3E          \x3C/div\x3E          \x3Cdiv class\x3D\x22dsq\x2Dremote\x2Dauthentication\x22 style\x3D\x22display:none\x22\x3E            \x3Cimg src\x3D\x22");$html.put(settings.media_url);$html.put("/images/dsq\x2Dloader.gif\x22 /\x3E            \x3Cp\x3E");$html.put(trans("Connecting to Yahoo"));$html.put("\x3C/p\x3E          \x3C/div\x3E          \x3Cp\x3E\x3Csmall\x3E");$html.put(trans("You might need to disable your popup blocker to sign in."));$html.put("\x3C/small\x3E\x3C/p\x3E        \x3C/div\x3E        ");if(config.sso){$html.put("        \x3Cdiv id\x3D\x22dsq\x2Dlogin\x2Dsso\x22 class\x3D\x22dsq\x2Dtab\x2Dcontent dsq\x2Dauth\x2Dform\x22 style\x3D\x22display:none\x22\x3E          \x3Cdiv class\x3D\x22dsq\x2Dconnect\x2Dmsg\x22\x3E            \x3Ch3\x3E");$html.put(lang.interpolate(trans("Post using your %(account)s account"),{account:config.sso.name}));$html.put("\x3C/h3\x3E            \x3Cp\x3E");$html.put(trans("Click the button below to continue."));$html.put("\x3C/p\x3E            \x3Cp\x3E\x3Cspan class\x3D\x22dsq\x2Dsso\x2Dconnect dsq\x2Dexternal\x2Dlauncher\x22\x3E\x3Cimg src\x3D\x22");$html.put(config.sso.button);$html.put("\x22/\x3E\x3C/span\x3E\x3C/p\x3E          \x3C/div\x3E          \x3Cdiv class\x3D\x22dsq\x2Dremote\x2Dauthentication\x22 style\x3D\x22display:none\x22\x3E            \x3Cimg src\x3D\x22");$html.put(settings.media_url);$html.put("/images/dsq\x2Dloader.gif\x22 /\x3E            \x3Cp\x3E");$html.put(lang.interpolate(trans("Connecting to %(account)s"),{account:config.sso.name}));$html.put("\x3C/p\x3E          \x3C/div\x3E          \x3Cp\x3E\x3Csmall\x3E");$html.put(trans("You might need to disable your popup blocker to sign in."));$html.put("\x3C/small\x3E\x3C/p\x3E        \x3C/div\x3E        ")}$html.put("    \x3C/div\x3E  \x3C/div\x3E");return $html.compile()};DISQUS.blocks.editArea=function block_editArea($globals,$locals){var $html=new DISQUS.strings.Builder();var $render=DISQUS.renderBlock;for(var $global in $globals){if($globals.hasOwnProperty($global)){eval("var "+$global+" = $globals['"+$global+"']")}}for(var $local in $locals){if($locals.hasOwnProperty($local)){eval("var "+$local+" = $locals['"+$local+"']")}}$html.put("\x3Cdiv class\x3D\x22dsq\x2Dtextarea\x2Dwrapper\x22\x3E    \x3Ctextarea class\x3D\x22dsq\x2Dedit\x2Dtextarea\x22 id\x3D\x22dsq\x2Dedit\x2Dtextarea\x2D");$html.put(comment.id);$html.put("\x22\x3E");$html.put(comment.message);$html.put("\x3C/textarea\x3E\x3C/div\x3E\x3Cdiv class\x3D\x22dsq\x2Dsave\x2Dedit\x22\x3E    \x3Cbutton type\x3D\x22button\x22            onclick\x3D\x22DISQUS.dtpl.actions.fire(\x27comments.edit.send\x27, ");$html.put(comment.id);$html.put(", this)\x3B\x22\x3E");$html.put(trans("Save edit"));$html.put("\x3C/button\x3E\x3C/div\x3E\x3Cdiv id\x3D\x22dsq\x2Dedit\x2Diframe\x2D");$html.put(comment.id);$html.put("\x22 style\x3D\x22display: none\x3B\x22\x3E\x3C/div\x3E");return $html.compile()};DISQUS.modules.dtpl_defaults=true;