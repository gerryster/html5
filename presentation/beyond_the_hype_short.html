<!DOCTYPE html> 
<!--
  Copyright 2010 Ryan Gerry.  Based on http://slides.html5rocks.com/ which is available under the following licence:

  Copyright 2010 Google Inc.
 
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
 
     http://www.apache.org/licenses/LICENSE-2.0
 
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
 
  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)
                 Brad Neuberg
--> 
<html manifest="cache.manifest"> 
  <head> 
    <meta charset="utf-8" /> 
    <meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1" /> 
    <title>HTML5 Presentation</title> 
    <link href="http://fonts.googleapis.com/css?family=Droid+Sans|Droid+Sans+Mono" rel="stylesheet" type="text/css" /> 
    <style> 
      body {
        font: 16px "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
        padding: 0;
        margin: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        left: 0px; top: 0px;
      }
 
      .presentation {
        position: absolute;
        height: 100%;
        width: 100%;
        left: 0px;
        top: 0px;
        display: block;
        overflow: hidden;
        background: #778;
      }
 
      .slides {
        width: 100%;
        height: 100%;
        left: 0;
        top: 0;
        position: absolute;
        display: block;
        -webkit-transition: -webkit-transform 1s ease-in-out;
        -moz-transition: -moz-transform 1s ease-in-out;
        -o-transition: -o-transform 1s ease-in-out;
        transition: transform 1s ease-in-out;
      }
 
      .slide {
        display: none;
        position: absolute;
        overflow: hidden;
        width: 900px;
        height: 700px;
        left: 50%;
        top: 50%;
        margin-top: -350px;
        background-color: #eee;
        background: -webkit-gradient(linear, left bottom, left top, from(#bbd), to(#fff));
        background: -moz-linear-gradient(bottom, #bbd, #fff);
        background: linear-gradient(bottom, #bbd, #fff);
        -webkit-transition: margin 0.25s ease-in-out;
        -moz-transition: margin 0.25s ease-in-out;
        -o-transition: margin 0.25s ease-in-out;
        transition: margin 0.25s ease-in-out;
      }

      .myslide {
        background-color: #eee;
        background: -webkit-gradient(linear, left bottom, left top, from(#bba), to(#fff));
        background: -moz-linear-gradient(bottom, #bbd, #fff);
        background: linear-gradient(bottom, #bbd, #fff);
      }

      .slide:nth-child(even) {
        -moz-border-radius: 20px 0;
        -khtml-border-radius: 20px 0;
        border-radius: 20px 0; /* includes Opera 10.5+ */
        -webkit-border-top-left-radius: 20px;
        -webkit-border-bottom-right-radius: 20px;
      }
 
      .slide:nth-child(odd) {
        -moz-border-radius: 0 20px;
        -khtml-border-radius: 0 20px;
        border-radius: 0 20px;
        -webkit-border-top-right-radius: 20px;
        -webkit-border-bottom-left-radius: 20px;
      }
 
      .slide p, .slide textarea {
        font-size: 20px;
      }
 
      .slide .counter {
        color: #999999;
        position: absolute;
        left: 20px;
        bottom: 20px;
        display: block;
        font-size: 12px;
      }
 
      .slide.title > .counter,
      .slide.segue > .counter,
      .slide.mainTitle > .counter {
        display: none;
      }
 
      .force-render {
        display: block;
        visibility: hidden;
      }
      
      .slide.far-past {
        display: block;
        margin-left: -2400px;
      }
      
      .slide.past {
        visibility: visible;
        display: block;
        margin-left: -1400px;
      }
      
      .slide.current {
        visibility: visible;
        display: block;
        margin-left: -450px;
      }
      
      .slide.future {
        visibility: visible;
        display: block;
        margin-left: 500px;
      }
      
      .slide.far-future {
        display: block;
        margin-left: 1500px;
      }
 
      body.three-d div.presentation {
        /*background: -webkit-gradient(radial, 50% 50%, 10, 50% 50%, 1000, from(#333), to(#000));        */
      }
      
      body.three-d div.slides {
        -webkit-transform: translateX(50px) scale(0.8) rotateY(10deg);
        -moz-transform: translateX(50px) scale(0.8) rotateY(10deg);
        -o-transform: translateX(50px) scale(0.8) rotateY(10deg);
        transform: translateX(50px) scale(0.8) rotateY(10deg);
      }
      
      /* Content */
      /*
        Font sizes:
        header h1 - 50px
        h2, p - 20px
        default, pre, input - 16px
      */
      
      @font-face { font-family: 'Junction'; src: url(src/Junction02.otf); }
      @font-face { font-family: 'LeagueGothic'; src: url(src/LeagueGothic.otf); }
      
      header {
        font-family: 'Droid Sans';
        font-weight: normal;
        letter-spacing: -.05em;
        color: black;
        text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
        position: absolute;
        left: 30px;
        top: 25px;
        margin: 0;
        padding: 0;
        font-size: 50px;
      }
      
      h1 {
        font-size: 100%;
        display: inline;
        font-weight: normal;
        padding: 0;
        margin: 0;
      }
      
      h2 {
        font-family: 'Droid Sans';
        color: black;
        font-size: 20px;
        padding: 0;
        margin: 15px 0 5px 0;
      }
            
      h2:first-child {
        margin-top: 0;
      }
 
      section, footer {
        font-family: 'Droid Sans';
        color: #3f3f3f;
        text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
        margin: 100px 30px 0;
        display: block;
        overflow: hidden;
      }
      
      footer {
        font-size: 12px;
        margin: 20px 0 0 30px;
      }
 
      a {
        color: inherit;
        display: inline-block;
        text-decoration: none;
        line-height: 110%;
        border-bottom: 2px solid #3f3f3f;
      }
 
      .gmap a {
        line-height: 100%;
        border-bottom: none;
      }
 
      li {
        list-style: none;
        padding: 10px 0;
      }
 
      button {
        font-size: 20px;
      }
      
      pre button {
        margin: 2px;
      }
      
      .summary {
        font-size: 30px;
      }
 
      .bullets {
        font-size: 40px;
      }
      
      section.left {
        float: left;
        width: 390px;
      }
      
      section.small {
        font-size: 24px;
      }
      
      section.small ul {
        margin: 0 0 0 15px;
        padding: 0;
      }
      
      section.small li {
        padding-bottom: 0;
      }
            
      section.middle {
        line-height: 68px;
        text-align: center;
        display: table-cell;
        vertical-align: middle;
        height: 700px;
        width: 900px;
      }
      
      pre {
        text-align: left;
        font-family: 'Droid Sans Mono', Courier;        
        padding: 10px 20px;
        background: rgba(255, 0, 0, 0.05);
        -webkit-border-radius: 8px;
        -khtml-border-radius: 8px;
        -moz-border-radius: 8px;
        border-radius: 8px;
        border: 1px solid rgba(255, 0, 0, 0.2);
      }
      
      pre select {
        font-family: Monaco, Courier;
        border: 1px solid #c61800;
      }
        
      input {
        font-size: 16px;
        margin-right: 10px;
        font-family: Helvetica;
        padding: 3px;
      }
      input[type="range"] {
        width: 100%;
      }
      
      button {
        margin: 20px 10px 0 0;
        font-family: Verdana;
      }
      
      button.large {
        font-size: 32px;
      }
        
      pre b {
        font-weight: normal;
        color: #c61800;
        text-shadow: #c61800 0 0 1px;
        /*letter-spacing: -1px;*/
      }
      pre em {
        font-weight: normal;
        font-style: normal;
        color: #18a600;
        text-shadow: #18a600 0 0 1px;
      }
      pre input[type="range"] {
        height: 6px;
        cursor: pointer;
        width: auto;
      }
      
      div.example {
        display: block;
        padding: 10px 20px;
        color: black;
        background: rgba(255, 255, 255, 0.4);
        -webkit-border-radius: 8px;
        -khtml-border-radius: 8px;
        -moz-border-radius: 8px;
        border-radius: 8px;
        margin-bottom: 10px;
        border: 1px solid rgba(0, 0, 0, 0.2);
      }
      
      video {
        -moz-border-radius: 8px;
        -khtml-border-radius: 8px;
        -webkit-border-radius: 8px;
        border-radius: 8px;
        border: 1px solid rgba(0, 0, 0, 0.2);
      }
      
      .css,
      .js,
      .html,
      .key {
        font-family: 'Droid Sans';
        color: black;
        display: inline-block;
        padding: 6px 10px 3px 10px;
        font-size: 25px;
        line-height: 30px;
        text-shadow: none;
        letter-spacing: 0;
        bottom: 10px;
        position: relative;
        -moz-border-radius: 10px;
        -khtml-border-radius: 10px;
        -webkit-border-radius: 10px;
        border-radius: 10px;
        background: white;
        box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px;
        -webkit-box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px;
        -moz-box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px;
        -o-box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px;
      }
      
      .key { font-family: Arial; }
      
      :not(header) > .css,
      :not(header) > .js,
      :not(header) > .html,
      :not(header) > .key {
        margin: 0 5px;
        bottom: 4px;
      }
      
      .css {
        background: -webkit-gradient(linear, left top, left bottom, from(#ff4), to(#ffa));
        background-color: #ff4;
        background: -moz-linear-gradient(left top, #ff4, #ffa);
      }
      .js {
        background: -webkit-gradient(linear, left top, left bottom, from(#4f4), to(#afa));
        background-color: #4f4;
        background: -moz-linear-gradient(left top, #4f4, #afa);
      }
      .html {
        background: -webkit-gradient(linear, left top, left bottom, from(#e88), to(#fee));
        background-color: #e88;
        background: -moz-linear-gradient(left top, #e88, #fee);
      }
 
      .two-column {
        -webkit-column-count: 2;
        -moz-column-count: 2;
        column-count: 2;
      }
      
      .summary li::before, .bullets li::before {
        content: '· ';
      }
 
      .stroke {
        -webkit-text-stroke-color: red;
        -webkit-text-stroke-width: 1px;
      } /* currently webkit-only */
      
      .center {
        text-align: center;
      }
      
      .formula {
        font-size: 50px;
      }
      
      #presentation-counter {
        color: #ccc;
        font-size: 100px;
        letter-spacing: 1px;
        position: absolute;
        top: 40%;
        left: 0;
        width: 100%;
        text-align: center;
      }
      
      .hsl-value {
        display: inline-block;
        width: 50px;
      }

      .browser-support {
          text-align : center
      }
    </style> 
    
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script> 
  </head> 
  <body> 
    <div class="presentation"> 
      <div id="presentation-counter"></div> 
      <div class="slides"> 
        <div class="slide myslide"> 
          <style> 
            .landing p {
              font-size: 35px;
            }
            #disclaimer-message {
              font-size: 20px;
            }
          </style> 
          <section class="middle landing"> 
            <p>HTML5: Beyond the Hype</p>
            <p>Press <span class="key">→</span> key to advance.</p>
            <p>Presentation by: Ryan Gerry</p>
            <p>Based on the presentation at <a href="http://slides.html5rocks.com/">htmlrocks.com</a>.</p>
            <br>(blue slides are from the original presentation)</br>
            <p id="disclaimer-message">Having issues seeing the presentation? Read the <a href="http://slides.html5rocks.com/disclaimer.html">disclaimer</a></p>
          </section> 
        </div> 
                
        <div class="slide myslide"> 
          <header>Goals of this Presentation</header> 
          <section>
          <ul>
            <li>Get excited: "Peak of Inflated Expectations"</li>
            <li>Become realistic: "Trough of Disillusionment"</li>
            <li>Deepen understanding: "Slope of Englightenment"</li>
            <li>Try out some real examples: "Plateau of Productivity"</li>
          </ul>
          </span>
          <img src="resources/hypecycle.png" alt="Gartner Hype Cycle" style="float: left;">
          <p id="disclaimer-message">Source: <a href="http://en.wikipedia.org/wiki/Hype_cycle" target="blank">Gartner Hype Cycle</a></p>
          </section>
        </div> 
        
        <div class="slide myslide intro"> 
          <header>The Goal of HTML 5 (according to me)</header> 
          <section class="middle">
            <h2>To provide a standard way to for web applications to do anything that native applications can do <em>without browser plugins</em>.</h2>
          </section>
        </div> 
 
        <div class="slide myslide"> 
          <header>Disclaimer</header> 
          <section>
          <p>This presentation is light on CSS content.  Sorry.  We will mostly focus on core features of the HTML 5 spec.</p>
          </section>
        </div> 

        <div class="slide myslide"> 
          <style> 
            .intro h1, .intro h2 {
              color: black;
            }
            .intro h1 {
              letter-spacing: -2px;
              font-size: 96px;
            }
            .intro h2 {
              margin-top: -5px;
              font-size: 40px;
              letter-spacing: -1px;
            }
          </style> 
          <section class="middle intro">
            <hgroup>
              <h1>Time to Get Excited!!!!</h1>
              <h2><a href="http://slides.html5rocks.com/" target="blank">htmlrocks.com presentation</a></h2>
            </hgroup>
          </section>
        </div> 

        <div class="slide myslide"> 
          <style> 
            .intro h1, .intro h2 {
              color: black;
            }
            .intro h1 {
              letter-spacing: -2px;
              font-size: 96px;
            }
            .intro h2 {
              margin-top: -5px;
              font-size: 40px;
              letter-spacing: -1px;
            }
          </style> 
          <section class="middle intro"> 
            <hgroup> 
              <h1> 
                Whew.
              </h1> 
              <h2> 
                Let's examine those shiny new features in more detail.
              </h2> 
            </hgroup> 
          </section> 
        </div>

        <div class="slide myslide"> 
          <header>But First: a concept</header> 
          <section> 
            <p>Web development is tricky because of so many different browser versions.</p>
            <p>Graceful downgrading is the key.</p>

            <p><em>Which fails more gracefully an elevator or an escalator?</em></p>
          </section> 
        </div> 
 
        <div class="slide"> 
          <header>Rough Timeline of Web Technologies</header> 
          <section> 
            <style> 
              span.year {
                display: inline-block;
                text-align: right;
                width: 120px;
                letter-spacing: -2px;
                padding-right: 10px;
              }
              hr {
                visibility: hidden;
                padding: 0;
                margin: 0 0 -20px 0;
              }
              #timeline {
                font-size: 50px;
              }
              #timeline li {
                padding: 0;
              }
            </style> 
            
            <ul id="timeline"> 
              <li><span class="year">1991</span> <span class="html">HTML</span></li> 
              <li><span class="year">1994</span> <span class="html">HTML 2</span></li> 
              <li><span class="year">1996</span> <span class="css">CSS 1</span> + <span class="js">JavaScript</span></li> 
              <li><span class="year">1997</span> <span class="html">HTML 4</span></li> 
              <li><span class="year">1998</span> <span class="css">CSS 2</span></li> 
              <li><span class="year">2000</span> <span class="html">XHTML 1</span></li> 
              <li><span class="year"><em class="stroke">2002</em></span> <span class="css">Tableless Web Design</span></li> 
              <li><span class="year"><em class="stroke">2005</em></span> <span class="js">AJAX</span></li> 
              <li><span class="year"><em class="stroke">2009</em></span> <span class="html">HTML 5</span></li> 
            </ul>            
          </section> 
        </div> 
 
        <div class="slide myslide"> 
          <header>History of HTML 5</header> 
          <section> 
            <ul> 
              <li>2004: the W3C was REALLY in love with XML and XHTML</li>
              <li>2004: Members of Mozilla and Opera proposed a new version of HTML</li>
              <ul>
                <li>Those members were voted down and formed the WHATWG (The Web Hypertext Application Technology Working Group) and started on what is now known as HTML5</li>
              </ul>
              <li>October 2006: W3C realizes that XHTML 2 is not really going anywhere and agrees to work together with the WHATWG.</li>
              <li>2007: W3C starts on their HTML 5 specification based on work from the WHATWG</li>
              <li>Today, the W3C and the WHATWG each have their own HTML 5 specifications.  Hopefully they will work together!</li>
            </ul>            
          </section> 
        </div> 
        
        <div class="slide"> 
          <section class="middle formula"> 
            HTML5 ~=
            <span class="html">HTML</span> 
            +
            <span class="css">CSS</span> 
            +
            <span class="js">JS APIs</span> 
          </section> 
        </div> 
        
 
        <div class="slide"> 
          <section class="middle"> 
            <h1> 
              <span class="js">JS APIs</span> 
            </h1> 
          </section> 
        </div> 
 
        <div class="slide"> 
          <style> 
            #ta {
              width: 300px;
              height: 150px;
              display: block;
            }
            #localstorage-message {
              padding-top: 50px;
            }
          </style> 
          <header><span class="js">JS APIs</span> <h1>Web Storage</h1></header> 
          <section> 
<pre> 
// use localStorage for persistent storage
// use sessionStorage for per tab storage
textarea.addEventListener('keyup', function () {
  window.<b>localStorage</b>['value'] = area.value;
  window.<b>localStorage</b>['timestamp'] = (new Date()).getTime();
}, false);
textarea.value = window.<b>localStorage</b>['value'];
</pre> 
<p id="localstorage-message">Save text value on the client side (crash-safe)</p> 
<textarea id="ta" placeholder="Type your text here..."></textarea> 
<button id="save-ta">Save</button> 
<p id="ta-log"></p> 
<script> 
  var area = document.querySelector('#ta');
  // place content from previous edit
  if (!area.value) {
    area.value = window.localStorage.getItem('value');
  }
  updateLog(false);
  
  // your content will be saved locally
  document.querySelector('#save-ta').addEventListener('click', function () {
    window.localStorage.setItem('value', area.value);
    window.localStorage.setItem('timestamp', (new Date()).getTime());
    updateLog(true);
  }, false);
 
  function updateLog(new_save) {
    var log = document.querySelector("#ta-log");
    var delta = 0;
    if (window.localStorage.getItem('value')) {
      delta = ((new Date()).getTime() - (new Date()).setTime(window.localStorage.getItem('timestamp'))) / 1000;
      if (new_save) {
        log.textContent = 'Saved. Content will be available after browser refresh/reopen.';
        setTimeout(function() {
          log.textContent = '';
        }, 3000);
      } else {
        log.textContent = 'last saved: ' + delta + 's ago';
      }
    }
  }
  
</script> 
          </section> 
        </div> 
 
        <div class="slide myslide"> 
          <header><span class="js">JS APIs</span> <h1>Web Storage: Details</h1></header> 
          <section>
          <h2>Pros</h2>
          <ul>
            <li>Good modern browser support: even IE!</li>
            <li>Several fall back options</li>
            <li>Simple key value model</li>
          </ul>
          <h2>Cons</h2>
          <ul>
            <li>Limited to 5 MB of space per domain in most browsers</li>
            <li>Key/values may be too simple</li>
          </ul>
          </section>
        </div>

        <div class="slide myslide"> 
          <header><span class="js">JS APIs</span> <h1>Web Storage: More Details</h1></header> 
          <section>
          <h2>Browser Support</h2> 
          <table class="browser-support">
            <tr>
              <th>IE</th>
              <th>Firefox</th>
              <th>Safari</th>
              <th>Chrome</th>
              <th>Opera</th>
              <th>iPhone</th>
              <th>Android</th>
            </tr>
            <tr>
              <td>8.0+</td>
              <td>3.5+</td>
              <td>4.0+</td>
              <td>4.0+</td>
              <td>10.5+</td>
              <td>2.0+</td>
              <td>2.0+</td>
            </tr>
          </table>
          <a href="http://www.diveintohtml5.org/storage.html#localstorage" target="blank">Source</a>


          <h2>Fallback Option</h2>
          <ul>
            <li>Flash based local storage</li>
            <li>Google Gears</li>
          </ul>
          <a href="http://api.dojotoolkit.org/jsdoc/HEAD/dojox.storage.manager" target="blank">dojox.storage</a> from the Dojo Javascript toolkit can be used to access Flash storage.
          </section>
        </div>
 
        <div class="slide"> 
          <style> 
            .record-list li:nth-child(odd) { background-color: #eee; }
            .record-list li:nth-child(even) { background-color: #ddd; }
            #db-results {
              max-height: 150px;
              overflow: auto;
              text-align: left;
            }
          </style> 
          
          <header><span class="js">JS APIs</span> <h1>Web SQL Database</h1></header> 
          <section> 
<pre>var db = window.<b>openDatabase</b>("Database Name", "Database Version");
db.<b>transaction</b>(function(tx) {
  tx.<b>executeSql</b>(<em>"SELECT * FROM test"</em>, [], successCallback, errorCallback);
});
</pre> 
 
 
          <div class="center"> 
            <ul class="record-list" id="db-results"></ul> 
            <div id="db-log"></div> 
            <input type="text" id="todoitem" /> 
            <button onclick="newRecord()">new to do item</button> 
            <button onclick="createTable()">create table</button> 
            <button onclick="dropTable()">drop table</button> 
            <p>See the generated database: Developer > Developer Tools > Storage</p> 
          </div> 
          <script> 
            var db;
            var log = document.getElementById('db-log');
            if (window.openDatabase) {
              db = openDatabase("DBTest", "1.0", "HTML5 Database API example", 200000);
              showRecords();  
            }
            document.getElementById('db-results').addEventListener('click', function(e) { e.preventDefault(); }, false);
 
            function onError(tx, error) {
              log.innerHTML += '<p>' + error.message + '</p>';
            }
 
            // select all records and display them
            function showRecords() {
              document.getElementById('db-results').innerHTML = '';
              db.transaction(function(tx) {
                tx.executeSql("SELECT * FROM Table1Test", [], function(tx, result) {
                  for (var i = 0, item = null; i < result.rows.length; i++) {
                    item = result.rows.item(i);
                    document.getElementById('db-results').innerHTML += 
                        '<li><span contenteditable="true" onkeyup="updateRecord('+item['id']+', this)">'+
                        item['text'] + '</span> <a href="#" onclick="deleteRecord('+item['id']+')">[Delete]</a></li>';
                  }
                });
              });
            }
 
            function createTable() {
              db.transaction(function(tx) {
                tx.executeSql("CREATE TABLE Table1Test (id REAL UNIQUE, text TEXT)", [],
                    function(tx) {  log.innerHTML = '<p>Table1Test created!</p>' },
                    onError);
              });
            }
 
            // add record with random values
            function newRecord() {
              var num = Math.round(Math.random() * 10000); // random data
              db.transaction(function(tx) {
                tx.executeSql("INSERT INTO Table1Test (id, text) VALUES (?, ?)", [num, document.querySelector('#todoitem').value],
                    function(tx, result) {
                      log.innerHTML = '';
                      showRecords();
                    }, 
                    onError);
              });
            }
 
            function updateRecord(id, textEl) {
              db.transaction(function(tx) {
                tx.executeSql("UPDATE Table1Test SET text = ? WHERE id = ?", [textEl.innerHTML, id], null, onError);
              });
            }
 
            function deleteRecord(id) {
              db.transaction(function(tx) {
                tx.executeSql("DELETE FROM Table1Test WHERE id=?", [id],
                    function(tx, result) { showRecords() }, 
                    onError);
              });
            }
 
            // delete table from db
            function dropTable() {
              db.transaction(function(tx) {
                tx.executeSql("DROP TABLE Table1Test", [],
                    function(tx) { showRecords() }, 
                    onError);
              });
            }
          </script> 
        </section> 
      </div> 
 
      <div class="slide myslide"> 
          <header><span class="js">JS APIs</span> <h1>Web SQL Database: Details</h1></header> 
          <section>
          <h2>Browser Support</h2> 
          <table class="browser-support">
            <tr>
              <th>IE</th>
              <th>Firefox</th>
              <th>Safari</th>
              <th>Chrome</th>
              <th>Opera</th>
              <th>iPhone</th>
              <th>Android</th>
            </tr>
            <tr>
              <td>·</td>
              <td>·</td>
              <td>4.0+</td>
              <td>4.0+</td>
              <td>10.5+</td>
              <td>3.0+</td>
              <td>2.0+</td>
            </tr>
          </table>
          <a href="http://www.diveintohtml5.org/storage.html#future" target="blank">Source</a>

          <h2>Controversy</h2>
          <ul>
            <li>No standards support because of only one reference implementation (Sqlite)</li>
            <li>Microsoft and the Mozilla Foundation are more interested in <a href="http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html" target="blank">IndexDB</a> which is a document oriented database.</li>
          </ul>

          <h2>Fall-back Option</h2>
          <ul>
            <li>Google Gears</li>
          </ul>
          </section>
        </div>
 
 
        <div class="slide"> 
          <style> 
            #appcache-message {
              padding-top: 20px;
              text-align: center;
            }
          </style> 
          <header><span class="js">JS APIs</span> <h1>Application Cache</h1></header> 
          <section> 
<pre>&lt;html <b>manifest="cache.manifest"</b>&gt;
window.<b>applicationCache</b>.addEventListener(<em>'checking'</em>, updateCacheStatus, false);
</pre> 
<pre>CACHE MANIFEST
 
# version 1
 
CACHE:
/html5/src/refresh.png
/html5/src/logic.js
/html5/src/style.css
/html5/src/background.png
</pre> 
 
 
            <p id="appcache-message">Turn off your internet connection and refresh this page! <img src="src/refresh.png" /></p> 
          </section> 
        </div> 
 
        <div class="slide myslide"> 
          <header><span class="js">JS APIs</span> <h1>Application Cache: Details</h1></header> 
          <section>
          <h2>Browser Support</h2> 
          <table class="browser-support">
            <tr>
              <th>IE</th>
              <th>Firefox</th>
              <th>Safari</th>
              <th>Chrome</th>
              <th>Opera</th>
              <th>iPhone</th>
              <th>Android</th>
            </tr>
            <tr>
              <td>·</td>
              <td>3.5+</td>
              <td>Yes</td>
              <td>Yes</td>
              <td>10.6+</td>
              <td>Yes</td>
              <td>Yes</td>
            </tr>
          </table>
          <a href="http://www.diveintohtml5.org/offline.html#divingin" target="blank">Source 1</a>
          <a href="http://en.wikipedia.org/wiki/Comparison_of_layout_engines_(HTML5)#Related_specifications" target="blank">Source 2</a>

          <h2>Detecting Browser Support</h2>
            <p><a href="http://www.modernizr.com/docs/#applicationcache" target="blank">Modernizr</a> example:
            <pre>
if (Modernizr.applicationcache){
  // We have offline web app support! Continue operation,
  // indicating to the user that the app will sync up once they get back online
} else {
  // No offline support, show errors if the user goes offline
}  
            </pre>

          <h2>Fall-back Option</h2>
          <ul>
            <li>Write a native application (joking)</li>
          </ul>
          </section>
        </div>

        <div class="slide myslide"> 
          <header><h1>An Important Tangent: Detecting Features</h1></header> 
          <section>
          <p>The general strategy is to create a new HTML 5 tag with Javascript and make assertions about that newly created tag.  There are different rules for different features.</p>
          <h2>The easy way to detect new features</h2>
            <p>Use the <a href="http://www.modernizr.com/" target="blank">Modernizr</a> library.
            <pre>
if (Modernizr.<em>featurename</em>){
  // Yay!  I can use this fancy new feature!
} else {
  // Sigh, time to fall back to something else.
}  
            </pre>

            <h2>Why not just sniff the user agent string?</h2>
            <p>Because that is error prone and fragile and there are more reliable client side ways to detect features.
          </section>
        </div>
 
        <div class="slide"> 
          <style> 
            #websockets-message {
              text-align: center;
              padding: 20px;
            }
          </style> 
          <header><span class="js">JS APIs</span> <h1>Web Sockets</h1></header> 
          <section> 
<pre>var socket = new <b>WebSocket</b>(location);
socket.<b>onopen</b> = function(event) {
  socket.<b>postMessage</b>(“Hello, WebSocket”);
}
socket.<b>onmessage</b> = function(event) { alert(event.data); }
socket.<b>onclose</b> = function(event) { alert(“closed”); }
 
</pre> 
 
            <p id="websockets-message">Bi-directional, full-duplex communications channels, over a single Transmission Control Protocol (TCP) socket, designed to be implemented in web browsers and web servers.</p> 
          </section> 
        </div> 
 
 
 
        <div class="slide"> 
          <style> 
            #notifications-message {
              text-align: center;
            }
          </style> 
          <header><span class="js">JS APIs</span> <h1>Notifications</h1></header> 
          <section> 
<pre>if (window.<b>webkitNotifications</b>.<b>checkPermission</b>() == 0) {
  // you can pass any url as a parameter
  window.<b>webkitNotifications</b>.<b>createNotification</b>(tweet.picture, tweet.title, 
      tweet.text).<b>show</b>();
} else {
  window.<b>webkitNotifications</b>.<b>requestPermission</b>();
}
</pre> 
        <div id="notifications-message"> 
          <p> 
            <button id="request-permission" href="#">Set notification permissions for this page</button> 
          </p> 
          <p>Note: Use this button if you also want to <em>reset</em> the permissions</p> 
 
          <br> 
          <p>Enter your twitter user name to show your last tweet as a notification</p> 
          <input type="text" id="username" placeholder="username" /> 
          <button id="show-tweets">Show tweet notifications</button> 
        </div> 
 
          <script> 
          document.getElementById('request-permission').addEventListener('click', function() {
            window.webkitNotifications.requestPermission();
          }, false);
 
          document.getElementById('show-tweets').addEventListener('click', function() {
            readTweets();
          }, false);
 
          function readTweets() {
            var username = document.getElementById('username').value;
            if (username == 'username') {
              alert('Enter a username first');
              return;
            }
            var script = document.createElement("script");
            script.src = 'http://twitter.com/statuses/user_timeline/'+ username+'.json?count=1&callback=fetchTweets';
            document.body.appendChild(script);
          }
 
          function fetchTweets(data) {
            var tweet;
            var i = data.length;
            while (i--) {
              tweet = data[i];
              if (window.webkitNotifications.checkPermission() == 0) {
                // note the show()
                window.webkitNotifications.createNotification(tweet.user.profile_image_url, tweet.user.name, tweet.text).show();
              } else {
                // Note that we can't call requestPermission from here as we are in the callback function and not triggered just on user action
                alert('You have to click on "Set notification permissions for this page" first to be able to receive notifications.');
                return;
              }
            }
          }
          </script> 
 
          </section> 
        </div> 
     
        <div class="slide force-render"> 
          <style> 
            #map-container {
              position: relative;
            }
            #geo-map {
              height: 280px;
            }
            #geo-log {
              z-index: 1000;
              position: absolute;
              top: 0;
              display: inline;
              background-color: red;
              color: white;
            }
          </style> 
          <header><span class="js">JS APIs</span> <h1>Geolocation</h1></header> 
          <section> 
<pre>if (<b>navigator</b>.<b>geolocation</b>) {
  <b>navigator</b>.<b>geolocation</b>.<b>getCurrentPosition</b>(function(position) {
    var lat = position.<b>coords</b>.<b>latitude</b>;
    var lng = position.<b>coords</b>.<b>longitude</b>;
    var options = { position: new google.maps.LatLng(lat, lng) }
    var marker = new google.maps.Marker(options);
    marker.setMap(map);
  });
}
</pre> 
          <button id="see-position">Show Position</button> 
          <div id="map-container"> 
            <div id="geo-map" class="gmap"></div> 
            <p id="geo-log"></p> 
          </div> 
          <script> 
          var options = { 
            zoom: 4,
            center: new google.maps.LatLng(13, 13),
            mapTypeId: google.maps.MapTypeId.ROADMAP 
          }
          var map = new google.maps.Map(document.getElementById("geo-map"), options);
          var geolog = document.querySelector('#geo-log');
          document.getElementById('see-position').addEventListener('click', function() {
            if (navigator.geolocation) {
              geolog.innerHTML = "Looking for location...";
              navigator.geolocation.getCurrentPosition(showPosition, handleGeoErrors);
              geolog.innerHTML = "Looking for location...(called getCurrentPosition)";
              // also monitor position as it changes
              navigator.geolocation.watchPosition(showPosition, handleGeoErrors);
              geolog.innerHTML = "Looking for location...(called watchPosition)";
            } else {
              geolog.innerHTML = "no geolocation support";
              console.log("no geolocation support");
            }
 
            function showPosition(position) {
              geolog.innerHTML = "";
              var lat = position.coords.latitude;
              var lng = position.coords.longitude;
              var marker = new google.maps.Marker({ position: new google.maps.LatLng(lat, lng) });
              map.setCenter(new google.maps.LatLng(lat, lng));
              marker.setMap(map);
            }

            function handleGeoErrors(error) {
                alert("Geo location error: " + error);
            }
          }, false);
          </script> 
          </section> 
        </div> 
      
        <div class="slide myslide"> 
          <header><span class="js">JS APIs</span> <h1>Geolocation: Details</h1></header> 
          <section> 
            <h2>Browser Support</h2> 
            <table class="browser-support">
              <thead>
                <tr> <th>IE<sup>*</sup></th> <th>Firefox</th> <th>Safari</th> <th>Chrome</th> <th>Opera</th> <th>iPhone</th> <th>Android</th> </tr>
              </thead>
              <tbody>
                <tr><td>·<td>3.5+<td>5.0+<td>5.0+<td>10.6+<td>3.0+<td>2.0+
              </tbody>
            </table>
            <a href="http://diveintohtml5.org/geolocation.html#w3c" target="blank">Source</a>
            <h2>Pre-HTML5 Options</h2>
            <ul>
              <li>Google Gears
              <li>Various other mobile device API's
            </ul>
            <h2>Smoothing Over the Differences</h2>
            <p>The Open Source geo.js library provides one interface to many location API's.
          </section> 
        </div> 
 


<div class="slide"> 
          <section class="middle"> 
            <h1> 
              <span class="html">HTML</span> 
            </h1> 
          </section> 
        </div> 
        
 
        <div class="slide"> 
          <header><span class="html">HTML</span> <h1>New semantic tags</h1></header> 
          <section> 
            <pre class="two-column">&lt;body&gt;
  &lt;<b>header</b>&gt;
    &lt;<b>hgroup</b>&gt;
      &lt;h1&gt;Page title&lt;/h1&gt;
      &lt;h2&gt;Page subtitle&lt;/h2&gt;
    &lt;/hgroup&gt;
  &lt;/header&gt;
 
  &lt;<b>nav</b>&gt;
   &lt;ul&gt;
     Navigation...
   &lt;/ul&gt;
  &lt;/nav&gt;
 
  &lt;<b>section</b>&gt;
   &lt;<b>article</b>&gt;
     &lt;<b>header</b>&gt;
       &lt;h1&gt;Title&lt;/h1&gt;
     &lt;/header&gt;
     &lt;section&gt;
       Content...
     &lt;/section&gt;
   &lt;/article&gt;
 
   &lt;article&gt;
     &lt;header&gt;
       &lt;h1&gt;Title&lt;/h1&gt;
     &lt;/header&gt;
     &lt;section&gt;
       Content...
     &lt;/section&gt;
   &lt;/article&gt;
 
   &lt;article&gt;
     &lt;header&gt;
       &lt;h1&gt;Title&lt;/h1&gt;
     &lt;/header&gt;
     &lt;section&gt;
       Content...
     &lt;/section&gt;
   &lt;/article&gt;
  &lt;/section&gt;
 
  &lt;<b>aside</b>&gt;
   Top links...
  &lt;/aside&gt;
 
  &lt;<b>footer</b>&gt;
   Copyright &copy; 2009.
  &lt;/footer&gt;
&lt;/body&gt;
 
            </pre> 
          </section> 
        </div> 

        <div class="slide myslide"> 
          <header><span class="html">HTML</span> <h1>New semantic tags: Details</h1></header> 
          <section> 
            <h2>Using in older browsers</h2>
            <p>In general this downgrades well with a little set up.
            <h3>How browsers handle unknown tags:</h3>
            <p>Styles are applied in-line (as in CSS <code>&quot;display: inline&quot;</code>).
            <p>That works fine except for elements which should get a rectangular box (as in CSS <code>&quot;display: block&quot;</code>).
            <h3>But some new elements are block-level!</h3>
            <p>For older browsers this CSS definition makes those elements block-level:
            <pre>
article,aside,details,figcaption,figure,
footer,header,hgroup,menu,nav,section { 
      display:block;
}
            </pre>
            <a href="http://www.diveintohtml5.org/semantics.html#new-elements" target="blank">Source</a>
            <p>Using Modernizr automatically sets this up.
          </section> 
        </div> 
 
        <div class="slide myslide"> 
          <header><span class="html">HTML</span> <h1>New semantic tags: More Details</h1></header> 
          <section> 
            <h2>IE 8 and below do not apply styles to unknown tags</h2>
            <p>Workaround:
            <pre>
&lt;head&gt;
  &lt;!--[if lt IE 9]&gt;
  &lt;script&gt;
    var e = ("abbr,article,aside,audio,canvas,datalist,details," +
      "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
      "progress,section,time,video").split(',');
    for (var i = 0; i &lt; e.length; i++) {
      document.createElement(e[i]);
    }
  &lt;/script&gt;
  &lt;![endif]--&gt;
&lt;/head&gt;
            </pre>
            <p>Modernizr also does this for you!</p>
            <a href="http://www.diveintohtml5.org/semantics.html#new-elements" target="blank">Source</a>
          </section> 
        </div> 

        <div class="slide myslide"> 
          <header>Randori 1</header>
          <section class="middle intro"> 
            <h2>Problem to attack: convert the header and navigation of an HTML4 site into HTML5</h2>
          </section> 
        </div> 
 
        <div class="slide"> 
          <header><span class="html">HTML</span> <h1>New link relations</h1></header> 
          <style> 
            .underlined { text-decoration: underline; }
          </style> 
          <section> 
            <pre>&lt;link rel="alternate" type="application/rss+xml" href="http://myblog.com/feed" /&gt;
&lt;link <b>rel="icon"</b> href="/favicon.ico" /&gt;
&lt;link <b>rel="pingback"</b> href="http://myblog.com/xmlrpc.php"&gt;
&lt;link <b>rel="prefetch"</b> href="http://myblog.com/main.php"&gt;
...
 
&lt;a <b>rel="archives"</b> href="http://myblog.com/archives"&gt;<span class="underlined">old posts</span>&lt;/a&gt;
&lt;a <b>rel="external"</b> href="http://notmysite.com"&gt;<span class="underlined">tutorial</span>&lt;/a&gt;
&lt;a <b>rel="license"</b> href="http://www.apache.org/licenses/LICENSE-2.0"&gt;<span class="underlined">license</span>&lt;/a&gt;
&lt;a <b>rel="nofollow"</b> href="http://notmysite.com/sample"&gt;<span class="underlined">wannabe</span>&lt;/a&gt;
&lt;a <b>rel="tag"</b> href="http://myblog.com/category/games"&gt;<span class="underlined">games posts</span>&lt;/a&gt;
...
</pre> 
 
          </section> 
        </div> 
 
        <div class="slide"> 
          <style> 
            #microdata-screenshot {
              width: 84%;
              margin: 30px auto;
              display: block;
              border: 3px solid #ccc;
            }
          </style> 
          <header><span class="html">HTML</span> <h1>Microdata</h1></header> 
 
          <section> 
            <pre>&lt;div <b>itemscope itemtype="http://example.org/band"</b>&gt;
 &lt;p&gt;My name is &lt;span <b>itemprop="name"</b>&gt;Neil&lt;/span&gt;.&lt;/p&gt;
 &lt;p&gt;My band is called &lt;span <b>itemprop="band"</b>&gt;Four Parts Water&lt;/span&gt;.&lt;/p&gt;
 &lt;p&gt;I am &lt;span <b>itemprop="nationality"</b>&gt;British&lt;/span&gt;.&lt;/p&gt;
&lt;/div&gt;
</pre> 
 
            <img id="microdata-screenshot" src="src/magpie.png" /> 
          </section> 
        </div> 
                
        <div class="slide"> 
          <header><span class="html">HTML</span> <h1>ARIA attributes</h1></header> 
          <section> 
            <pre>&lt;ul id="tree1"
      <b>role</b>="<b>tree</b>" 
      tabindex="0" 
      <b>aria-labelledby</b>="label_1">
  &lt;li <b>role</b>="<b>treeitem</b>" tabindex="-1" <b>aria-expanded</b>="true">Fruits&lt;/li>
  &lt;li <b>role</b>="<b>group</b>">
    &lt;ul>
      &lt;li <b>role</b>="<b>treeitem</b>" tabindex="-1">Oranges&lt;/li>
      &lt;li <b>role</b>="<b>treeitem</b>" tabindex="-1">Pineapples&lt;/li>
      ...
    &lt;/ul>
  &lt;/li>
&lt;/ul>
</pre> 
          </section> 
        </div> 

        <div class="slide myslide"> 
          <header><span class="html">HTML</span> <h1>Details</h1></header> 
          <section> 
            <h2>Using new link relations, microdata and ARIA attributes</h2>
            <p>Use them.  Old browswers should not break as these mostly use new attributes.
            <p>Help those with special needs.
          </section> 
        </div> 
 
 
        <div class="slide"> 
          <header><span class="html">HTML</span> <h1>New form field types</h1></header> 
 
          <section> 
            <style> 
            [required] {
              background-color: lightyellow;
            }
            :invalid {
              background-color: red;
            }
            .form-inputs {
              font-size: 80%;
            }
            .form-inputs input {
              padding: 2px;
            }
            </style> 
            <pre class="form-inputs"> 
&lt;style&gt;
  [required] { background-color: lightyellow; }
  :invalid { background-color: red; }
&lt;/style&gt;
 
&lt;input type="text" <b>required</b> /&gt;<input type="text" required /> 
&lt;input type="<b>email</b>" value="some@email.com" /&gt; <input type="email" value="some@email.com" /> 
&lt;input type="<b>date</b>" <b>min</b>="2010-08-14" <b>max</b>="2011-08-14" value="2010-08-14"/&gt; <input type="date" min="2010-08-14" max="2011-08-14" value="2010-08-14" /> 
&lt;input type="<b>range</b>" <b>min</b>="0" <b>max</b>="50" value="10" /&gt; <input  type="range" min="0" max="50" value="10" /> 
&lt;input type="<b>search</b>" <b>results</b>="10" <b>placeholder</b>="Search..." /&gt; <input results="10" type="search" placeholder="Search..." /> 
&lt;input type="<b>tel</b>" placeholder="(555) 555-5555" <b>pattern</b>="^\(?\d{3}\)?[-\s]\d{3}[-\s]\d{4}.*?$" /&gt;
<input type="tel" placeholder="(555) 555-5555" pattern="^\(?\d{3}\)?[-\s]\d{3}[-\s]\d{4}.*?$" /> 
&lt;input type="<b>color</b>" <b>placeholder</b>="e.g. #bbbbbb" /&gt; <input type="color" placeholder="e.g. #bbbbbb" /> 
&lt;input type="<b>number</b>" <b>step</b>="1" <b>min</b>="-5" <b>max</b>="10" value="0" /&gt; <input type="number" step="1" min="-5" max="10" value="0" /> 
</pre> 
 
<h2>Others:</h2> 
<pre class="form-inputs">&lt;<b>meter</b> <b>min</b>="0" <b>max</b>="100" <b>low</b>="40" <b>high</b>="90" <b>optimum</b>="100" value="91"&gt;A+&lt;/<b>meter</b>&gt;
Your score is: <meter value="91" min="0" max="100" low="40" high="90" optimum="100">A+</meter> 
&lt;<b>progress</b>&gt;working...&lt;/<b>progress</b>&gt;
Download is: <progress>working...</progress> 
&lt;<b>progress</b> value="75" <b>max</b>="100"&gt;3/4 complete&lt;/<b>progress</b>&gt;
Goal is: <progress value="75" max="100">3/4 complete</progress> 
&lt;<b>output</b>&gt;
</pre> 
 
          </section> 
        </div> 

        <div class="slide myslide"> 
          <header><span class="html">HTML</span> <h1>New form field types: Details</h1></header> 
          <section> 
            <h2>Browser support</h2>
            <p>Unkown form elements downgrade to plain text input.</p>
            <p>Modernizr can detect supported tags.</p>
          <table class="browser-support">
            <tr>
                <th></th><th>IE</th> <th>Firefox</th> <th>Safari</th> <th>Chrome</th> <th>Opera</th> <th>iPhone</th> <th>Android</th>
            </tr>
            <tr> <td>Placeholder text</td> <td>·</td> <td>3.7+</td> <td>4.0+</td> <td>4.0+</td> <td>·</td> <td>4.0+</td> <td>·</td> </tr>
            <tr> <td>Autofocus</td> <td>·</td> <td>·</td> <td>4.0+</td> <td>3.0+</td> <td>10.0+</td> <td>·</td> <td>·</td> </tr>
            <tr> <td>Date Pickers</td> <td>·</td> <td>·</td> <td>·</td> <td>·</td> <td>9.0+</td> <td>·</td> <td>·</td> </tr>
            <tr> <td>Color Pickers</td> <td>·</td> <td>·</td> <td>·</td> <td>·</td> <td>·</td> <td>·</td> <td>·</td> </tr>
            <tr> <td>Form Validation</td> <td>·</td> <td>4.0+</td> <td>5.0+</td> <td>6.0+</td> <td>9.0+</td> <td>·</td> <td>·</td> </tr>
            <tr> <td>Required Fields</td> <td>·</td> <td>4.0+</td> <td>5.0+</td> <td>6.0+</td> <td>9.0+</td> <td>·</td> <td>·</td> </tr>
          </table>
          <a href="http://www.diveintohtml5.org/forms.html" target="blank">Source</a>
          </section> 
        </div> 
 
        <div class="slide"> 
          <style> 
            #video-column {
              float: left;
              width: 50%;
              margin-top: 20px;
            }
            #reflection-button {
              margin: 20px 0;
            }
            #audio-column {
              float: left;
              width: 45%;
              margin-top: 120px;
            }
            .media-buttons {
              margin: 40px 0;
            }
          </style> 
          <header><span class="html">HTML</span> <h1>Audio + Video</h1></header> 
          <section> 
            <pre>&lt;<b>audio</b> id="audio" src="sound.mp3" <b>controls</b>&gt;&lt;/audio&gt;
document.getElementById("audio").<b>muted</b> = false;
 
&lt;<b>video</b> id="video" src="movie.webm" <b>autoplay</b> <b>controls</b>&gt;&lt;/video&gt;
document.getElementById("video").<b>play</b>();
</pre> 
            <div id="video-column" class="center"> 
              <input type="button" id="reflection-button" onclick="addReflection()" value="Add CSS reflection to video" /> 
              <video width="390" id="clip" controls> 
                <source src="src/chrome_japan.webm" type='video/webm; codecs="vp8, vorbis"' /> 
                <source src="src/chrome_japan.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"' /> 
                <source src="src/chrome_japan.ogv" type='video/ogg; codecs="theora, vorbis"' /> 
                Your browser does not support the video tag
              </video> 
              <div class="media-buttons"> 
                <input type="button" id="play-button" onclick="PlayVideo()"; value="Play" /> 
                <input type="button" id="pause-button" onclick="PauseVideo()"; value="Pause" disabled /> 
                <input type="button" id="mute" onclick="MuteUnMute()" value="Mute" /> 
              </div> 
            </div> 
            
            <div id="audio-column" class="center"> 
              <audio id="audio-clip" width="670" controls> 
                <source src="src/rushus-modal_blues.mp3" type="audio/mpeg" /> 
                <source src="src/rushus-modal_blues.ogg" type="audio/ogg" /> 
                Your browser does not support the audio tag
              </audio> 
              <div class="media-buttons"> 
                <input type=button id="audio-play-button" onclick="PlayAudio()" value="Play" /> 
                <input type=button id="audio-pause-button" onclick="PauseAudio()" value="Pause" disabled /> 
                <input type=button id="audio-mute" onclick="MuteUnMuteAudio()" value="Mute" /> 
              </div> 
            </div> 
          </section> 
          <script> 
            var videoClip = document.getElementById('clip');
            var playButton = document.getElementById('play-button');
            var pauseButton = document.getElementById('pause-button');
 
            function PlayVideo() {
              videoClip.play();
              playButton.disabled = true;
              pauseButton.disabled = false;
            }
 
            function PauseVideo() {
              videoClip.pause();
              playButton.disabled = false;
              pauseButton.disabled = true;
            }
 
            function MuteUnMute() {
              document.getElementById('mute').value = videoClip.muted ? 'Mute' : 'Unmute';
              videoClip.muted = videoClip.muted ? false : true;
            }
 
            function OnFinished() {
              playButton.disabled = false;
              pauseButton.disabled = true;
            }
 
            function addReflection() {
              videoClip.style.webkitBoxReflect = videoClip.style.webkitBoxReflect !== '' ? '' : "below 0px -webkit-gradient(linear, 0% 0%, 0% 100%, from(transparent), color-stop(0.55, transparent), to(white))";
            }
          </script> 
 
          <script> 
            var audioClip = document.getElementById('audio-clip');
            var audioPlayButton = document.getElementById('audio-play-button');
            var audioPauseButton = document.getElementById('audio-pause-button');
            audioClip.addEventListener('ended', OnAudioFinished, false);
 
            function PlayAudio() {
              audioClip.play();
              audioPlayButton.disabled = true;
              audioPauseButton.disabled = false;
            }
 
            function PauseAudio() {
              audioClip.pause();
              audioPlayButton.disabled = false;
              audioPauseButton.disabled = true;
            }
 
            function MuteUnMuteAudio() {
              document.getElementById('audio-mute').value = audioClip.muted ? 'Mute' : 'Unmute';
              audioClip.muted = audioClip.muted ? false : true;
            }
 
            function OnAudioFinished() {
              audioPlayButton.disabled = false;
              audioPauseButton.disabled = true;
            }
          </script> 
        </div> 
 
        <div class="slide myslide"> 
          <header><span class="html">HTML</span> <h1>Audio + Video: Details</h1></header> 
          <section> 
            <h2>Browser Support for the &lt;video&gt; Tag</h2> 
            <table class="browser-support">
              <thead>
                <tr> <th>IE</th> <th>Firefox</th> <th>Safari</th> <th>Chrome</th> <th>Opera</th> <th>iPhone</th> <th>Android</th> </tr>
              </thead>
              <tbody>
                <tr><td>9.0+ <td>3.5+ <td>3.0+ <td>3.0+<td> 10.5+ <td>1.0+ <td>2.0+
              </tbody>
            </table>
            <a href="http://diveintohtml5.org/video.html" target="blank">Source</a>
            <p>However, it is not that simple!
            <h2>There is a format war and here are the factions (video + audio + container format)</h2>
            <ul>
              <li>H.264+AAC+MP4 - Licenced by the <a href="http://www.mpegla.com/main/default.aspx">MPEG LA group</a>.  Apple uses this format a lot.
              <li>Theora+Vorbis+Ogg - Royalty-free and used by major Linux distributions and Firefox 3.5.
              <li>VP8+Vorbis+WebM - Created by the company On2 which was recently purchased by Google.  Google licenced all existing patents as royalty-free.
            </ul>
          </section> 
        </div> 
 
        <div class="slide myslide"> 
          <header><span class="html">HTML</span> <h1>Audio + Video: More Details</h1></header> 
          <section> 
            <h2>More bad news</h2>
            <p><em>There is no one format which works in all major browsers.</em>
            <p>Corollary: videos will need to be encoded in all three formats.
            <p>On the plus side, open source encoders are available.

            <h2>Dealing with Internet Explorer</h2>
            <p>Most IE users have Adobe Flash installed.
            <p>Flash can play H.264 video.
            <p><a href="http://flowplayer.org/">Flowplayer</a> is a GPL'd flash based video player.
            <p>Built in fall-back: A nicety of the HTML5 video spec is that, for fall-back purposes, other tags can be nested inside the <code>&lt;video&gt;</code> tag.  Browsers which support the video tag will ignore these nested fall-back tags.
          </section> 
        </div> 
 
        <div class="slide"> 
          <header><span class="html">HTML</span> <h1>Canvas</h1></header> 
          <section> 
            <style> 
              #canvas-area {
                background: white;
                -webkit-border-radius: 8px;
                -khtml-border-radius: 8px;
                -moz-border-radius: 8px;
                border-radius: 8px;
                border: 1px solid #bbb;
              }
            </style> 
            <pre>&lt;canvas id="canvas" width="838" height="220"&gt;&lt;/canvas&gt;
 
&lt;script&gt;
  var canvasContext = document.getElementById("canvas").<b>getContext</b>("2d");
  canvasContext.<b>fillRect</b>(250, 25, 150, 100);
  
  canvasContext.<b>beginPath</b>();
  canvasContext.<b>arc</b>(450, 110, 100, Math.PI * 1/2, Math.PI * 3/2);
  canvasContext.<b>lineWidth</b> = 15;
  canvasContext.<b>lineCap</b> = 'round';
  canvasContext.<b>strokeStyle</b> = 'rgba(255, 127, 0, 0.5)';
  canvasContext.<b>stroke</b>();
&lt;/script&gt;
            </pre> 
            <canvas id="canvas-area" width="838" height="225"></canvas> 
            <script> 
              var canvasContext = document.getElementById("canvas-area").getContext("2d");
              canvasContext.fillRect(250, 25, 150, 100);
              canvasContext.beginPath();
              canvasContext.arc(450, 110, 100, Math.PI * 1/2, Math.PI * 3/2, false);
              canvasContext.lineWidth = 15;
              canvasContext.lineCap = 'round';
              canvasContext.strokeStyle = 'rgba(255, 127, 0, 0.5)';
              canvasContext.stroke();
            </script> 
          </section> 
        </div> 
  
        <div class="slide myslide"> 
          <header><span class="html">HTML</span> <h1>Canvas: Details</h1></header> 
          <section>
          <h2>What is it?</h2> 
          <p>Pixel level 2D drawing surface.
          <h2>Browser Support</h2> 
          <table class="browser-support">
            <thead>
              <tr> <th>IE<sup>*</sup></th> <th>Firefox</th> <th>Safari</th> <th>Chrome</th> <th>Opera</th> <th>iPhone</th> <th>Android</th> </tr>
            </thead>
            <tbody>
              <tr><td>7.0+<td>3.0+<td>3.0+<td>3.0+<td>10.0+<td>1.0+<td>1.0+
            </tbody>
          </table>
          <sup>*</sup> IE canvas is not native until version 9.  Versions 7 and 8 are emulated via the <a href="http://code.google.com/p/explorercanvas/" target="blank">explorercanvas</a> JavaScript library.

          <br>
          <a href="http://www.diveintohtml5.org/canvas.html#divingin" target="blank">Source</a>

          <h2>Fall-back Options</h2>
          <ul>
            <li>Flash</li>
            <li>Render dynamic images on the server side</li>
          </ul>
          </section>
        </div>

        <div class="slide myslide"> 
          <header><span class="html">HTML</span> <h1>Canvas: How to use it</h1></header> 
          <section>
          <h2>Layout</h2> 
          <p>Math Geeks: Quadrant IV of the Cartesian coordinate system without the negatives.
          <br>
          <a href="http://www.diveintohtml5.org/canvas.html#divingin" target="blank">Source</a>
          <p><a href="http://www.diveintohtml5.org/canvas.html#coordinates" target="blank">Click here</a> to see a diagram of the canvas layout</p>
        </div>

        <div class="slide myslide"> 
          <header>Randori 2</header>
          <section class="middle intro"> 
            <h2>Problem to attack: complete this chart which uses the <code>&lt;canvas&gt;</code> element.</h2>
          </section> 
        </div> 
 
        <div class="slide myslide"> 
          <header>References/Learn More</header>
          <section>
            <p>HTML5 support in various layout engines <a href="http://en.wikipedia.org/wiki/Comparison_of_layout_engines_(HTML5)" target="blank">http://en.wikipedia.org/wiki/Comparison_of_layout_engines_(HTML5)</a>
            <p><a href="http://diveintohtml5.org/">http://diveintohtml5.org/</a>.  Dive Into HTML5 is an excellent book by Mark Pilgrim which is referenced heavily in this presentation.
            <p><a href="http://slides.html5rocks.com/">http://slides.html5rocks.com/</a>.  Slides this presentation was based off of.
          </section> 
        </div> 

        <div class="slide myslide "> 
          <header>Thank You!</header>
          <section class="middle intro">
          <h2>This slide show and examples are available in my github account:<br>
            <a href="http://github.com/gerryster/html5">http://github.com/gerryster/html5</a></h2>
        </div>

      </div> <!-- slides --> 
 
    </div> <!-- presentation --> 
 
    <script> 
      (function() {
        var doc = document;
        var disableBuilds = true;
 
        var ctr = 0;
        var spaces = /\s+/, a1 = [''];
 
        var toArray = function(list) {
          return Array.prototype.slice.call(list || [], 0);
        };
 
        var byId = function(id) {
          if (typeof id == 'string') { return doc.getElementById(id); }
          return id;
        };
 
        var query = function(query, root) {
          if (!query) { return []; }
          if (typeof query != 'string') { return toArray(query); }
          if (typeof root == 'string') {
            root = byId(root);
            if(!root){ return []; }
          }
 
          root = root || document;
          var rootIsDoc = (root.nodeType == 9);
          var doc = rootIsDoc ? root : (root.ownerDocument || document);
 
          // rewrite the query to be ID rooted
          if (!rootIsDoc || ('>~+'.indexOf(query.charAt(0)) >= 0)) {
            root.id = root.id || ('qUnique' + (ctr++));
            query = '#' + root.id + ' ' + query;
          }
          // don't choke on something like ".yada.yada >"
          if ('>~+'.indexOf(query.slice(-1)) >= 0) { query += ' *'; }
 
          return toArray(doc.querySelectorAll(query));
        };
 
        var strToArray = function(s) {
          if (typeof s == 'string' || s instanceof String) {
            if (s.indexOf(' ') < 0) {
              a1[0] = s;
              return a1;
            } else {
              return s.split(spaces);
            }
          }
          return s;
        };
 
        var addClass = function(node, classStr) {
          classStr = strToArray(classStr);
          var cls = ' ' + node.className + ' ';
          for (var i = 0, len = classStr.length, c; i < len; ++i) {
            c = classStr[i];
            if (c && cls.indexOf(' ' + c + ' ') < 0) {
              cls += c + ' ';
            }
          }
          node.className = cls.trim();
        };
 
        var removeClass = function(node, classStr) {
          var cls;
          if (classStr !== undefined) {
            classStr = strToArray(classStr);
            cls = ' ' + node.className + ' ';
            for (var i = 0, len = classStr.length; i < len; ++i) {
              cls = cls.replace(' ' + classStr[i] + ' ', ' ');
            }
            cls = cls.trim();
          } else {
            cls = '';
          }
          if (node.className != cls) {
            node.className = cls;
          }
        };
 
        var toggleClass = function(node, classStr) {
          var cls = ' ' + node.className + ' ';
          if (cls.indexOf(' ' + classStr.trim() + ' ') >= 0) {
            removeClass(node, classStr);
          } else {
            addClass(node, classStr);
          }
        };
 
        var ua = navigator.userAgent;
        var isFF = parseFloat(ua.split('Firefox/')[1]) || undefined;
        var isWK = parseFloat(ua.split('WebKit/')[1]) || undefined;
        var isOpera = parseFloat(ua.split('Opera/')[1]) || undefined;
 
        var canTransition = (function() {
          var ver = parseFloat(ua.split('Version/')[1]) || undefined;
          // test to determine if this browser can handle CSS transitions.
          var cachedCanTransition = 
            (isWK || (isFF && isFF > 3.6 ) || (isOpera && ver >= 10.5));
          return function() { return cachedCanTransition; }
        })();
 
        //
        // Slide class
        //
        var Slide = function(node, idx) {
          this._node = node;
          if (idx >= 0) {
            this._count = idx + 1;
          }
          if (this._node) {
            addClass(this._node, 'slide distant-slide');
          }
          this._makeCounter();
          this._makeBuildList();
        };
 
        Slide.prototype = {
          _node: null,
          _count: 0,
          _buildList: [],
          _visited: false,
          _currentState: '',
          _states: [ 'distant-slide', 'far-past',
                     'past', 'current', 'future',
                     'far-future', 'distant-slide' ],
          setState: function(state) {
            if (typeof state != 'string') {
              state = this._states[state];
            }
            if (state == 'current' && !this._visited) {
              this._visited = true;
              this._makeBuildList();
            }
            removeClass(this._node, this._states);
            addClass(this._node, state);
            this._currentState = state;
 
            // delay first auto run. Really wish this were in CSS.
            /*
            this._runAutos();
            */
            var _t = this;
            setTimeout(function(){ _t._runAutos(); } , 400);
          },
          _makeCounter: function() {
            if(!this._count || !this._node) { return; }
            var c = doc.createElement('span');
            c.innerHTML = this._count;
            c.className = 'counter';
            this._node.appendChild(c);
          },
          _makeBuildList: function() {
            this._buildList = [];
            if (disableBuilds) { return; }
            if (this._node) {
              this._buildList = query('[data-build] > *', this._node);
            }
            this._buildList.forEach(function(el) {
              addClass(el, 'to-build');
            });
          },
          _runAutos: function() {
            if (this._currentState != 'current') {
              return;
            }
            // find the next auto, slice it out of the list, and run it
            var idx = -1;
            this._buildList.some(function(n, i) {
              if (n.hasAttribute('data-auto')) {
                idx = i;
                return true;
              }
              return false;
            });
            if (idx >= 0) {
              var elem = this._buildList.splice(idx, 1)[0];
              var transitionEnd = isWK ? 'webkitTransitionEnd' : (isFF ? 'mozTransitionEnd' : 'oTransitionEnd');
              var _t = this;
              if (canTransition()) {
                var l = function(evt) {
                  elem.parentNode.removeEventListener(transitionEnd, l, false);
                  _t._runAutos();
                };
                elem.parentNode.addEventListener(transitionEnd, l, false);
                removeClass(elem, 'to-build');
              } else {
                setTimeout(function() {
                  removeClass(elem, 'to-build');
                  _t._runAutos();
                }, 400);
              }
            }
          },
          buildNext: function() {
            if (!this._buildList.length) {
              return false;
            }
            removeClass(this._buildList.shift(), 'to-build');
            return true;
          },
        };
 
        //
        // SlideShow class
        //
        var SlideShow = function(slides) {
          this._slides = (slides || []).map(function(el, idx) {
            return new Slide(el, idx);
          });
          var h = window.location.hash;
          try {
            this.current = parseInt(h.split('#slide')[1], 10);
          } catch (e) { /* squeltch */ }
          this.current = isNaN(this.current) ? 1 : this.current;
          var _t = this;
          doc.addEventListener('keydown', 
              function(e) { _t.handleKeys(e); }, false);
          doc.addEventListener('mousewheel', 
              function(e) { _t.handleWheel(e); }, false);
          doc.addEventListener('DOMMouseScroll', 
              function(e) { _t.handleWheel(e); }, false);
          doc.addEventListener('touchstart', 
              function(e) { _t.handleTouchStart(e); }, false);
          doc.addEventListener('touchend', 
              function(e) { _t.handleTouchEnd(e); }, false);
          window.addEventListener('popstate', 
              function(e) { if (e.state) { _t.go(e.state); } }, false);
          this._update();          
        };
 
        SlideShow.prototype = {
          _slides: [],
          _update: function(dontPush) {
            document.querySelector('#presentation-counter').innerText = this.current;
            if (history.pushState) {
              if (!dontPush) {
                history.replaceState(this.current, 'Slide ' + this.current, '#slide' + this.current);
              }
            } else {
              window.location.hash = 'slide' + this.current;
            }
            for (var x = this.current-1; x < this.current + 7; x++) {
              if (this._slides[x-4]) {
                this._slides[x-4].setState(Math.max(0, x-this.current));
              }
            }
          },
 
          current: 0,
          next: function() {
            if (!this._slides[this.current-1].buildNext()) {
              this.current = Math.min(this.current + 1, this._slides.length);
              this._update();
            }
          },
          prev: function() {
            this.current = Math.max(this.current-1, 1);
            this._update();
          },
          go: function(num) {
            this.current = num;
            this._update(true);
          },
 
          _notesOn: false,
          showNotes: function() {
            var isOn = this._notesOn = !this._notesOn;
            query('.notes').forEach(function(el) {
              el.style.display = (notesOn) ? 'block' : 'none';
            });
          },
          switch3D: function() {
            toggleClass(document.body, 'three-d');
          },
          handleWheel: function(e) {
            var delta = 0;
            if (e.wheelDelta) {
              delta = e.wheelDelta/120;
              if (isOpera) {
                delta = -delta;
              }
            } else if (e.detail) {
              delta = -e.detail/3;
            }
 
            if (delta > 0 ) {
              this.prev();
              return;
            }
            if (delta < 0 ) {
              this.next();
              return;
            }
          },
          handleKeys: function(e) {
            
            if (/^(input|textarea)$/i.test(e.target.nodeName)) return;
            
            switch (e.keyCode) {
              case 37: // left arrow
                this.prev(); break;
              case 39: // right arrow
              case 32: // space
                this.next(); break;
              case 50: // 2
                this.showNotes(); break;
              case 51: // 3
                this.switch3D(); break;
            }
          },
          _touchStartX: 0,
          handleTouchStart: function(e) {
            this._touchStartX = e.touches[0].pageX;
          },
          handleTouchEnd: function(e) {
            var delta = this._touchStartX - e.changedTouches[0].pageX;
            var SWIPE_SIZE = 150;
            if (delta > SWIPE_SIZE) {
              this.next();
            } else if (delta< -SWIPE_SIZE) {
              this.prev();
            }
          },
        };
 
        // Initialize
        var slideshow = new SlideShow(query('.slide'));
      })();
    </script> 
 
    <!--[if lt IE 9]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">
    </script>
        <script>CFInstall.check({ mode: "overlay" });</script>
    <![endif]--> 
    
    <script> 
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-15028909-5']);
      _gaq.push(['_trackPageview']);
 
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script> 
  </body> 
</html>
